{
  "version": 3,
  "sources": ["../node_modules/css-what/lib/commonjs/types.js", "../node_modules/css-what/lib/commonjs/parse.js", "../node_modules/css-what/lib/commonjs/stringify.js", "../node_modules/css-what/lib/commonjs/index.js", "../node_modules/@dom111/element/dist/Element.js", "../node_modules/melba-toast/src/Melba.ts", "../node_modules/melba-toast/node_modules/@dom111/typed-event-emitter/EventEmitter.ts", "../node_modules/melba-toast/src/lib/supportsFocusWithin.ts", "../node_modules/basiclightbox/dist/basicLightbox.min.js", "../node_modules/prismjs/prism.js", "../src/components/Container.ts", "../src/lib/joinPath.ts", "../node_modules/@dom111/typed-event-emitter/EventEmitter.ts", "../node_modules/@babel/runtime/helpers/esm/typeof.js", "../node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../node_modules/@babel/runtime/helpers/esm/createClass.js", "../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../node_modules/@babel/runtime/helpers/esm/inherits.js", "../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js", "../node_modules/@babel/runtime/helpers/esm/iterableToArray.js", "../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js", "../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js", "../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js", "../node_modules/@babel/runtime/helpers/esm/toArray.js", "../node_modules/i18next/dist/esm/i18next.js", "../src/lib/Entry.ts", "../src/lib/Collection.ts", "../src/lib/Response.ts", "../src/lib/HTTP/RequestFailure.ts", "../src/lib/HTTP.ts", "../src/lib/DAV.ts", "../src/components/Footer.ts", "../src/lib/handleFileUpload.ts", "../src/components/Header.ts", "../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js", "../src/components/List.ts", "../src/components/Item.ts", "../src/components/TreeViewModal.ts", "../src/components/Modal.ts", "../src/components/Tree/Tree.ts", "../src/components/Tree/Leaf.ts", "../src/components/Tree/Node.ts", "../src/components/Tree/WebDAV.ts", "../src/lib/previewItems.ts", "../src/lib/supportsFocusWithin.ts", "../src/lib/State.ts", "../src/lib/supportsEvent.ts", "../src/lib/AbstractUI.ts", "../src/components/UI.ts", "../src/webdav.ts"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AttributeAction = exports.IgnoreCaseMode = exports.SelectorType = void 0;\nvar SelectorType;\n(function (SelectorType) {\n    SelectorType[\"Attribute\"] = \"attribute\";\n    SelectorType[\"Pseudo\"] = \"pseudo\";\n    SelectorType[\"PseudoElement\"] = \"pseudo-element\";\n    SelectorType[\"Tag\"] = \"tag\";\n    SelectorType[\"Universal\"] = \"universal\";\n    // Traversals\n    SelectorType[\"Adjacent\"] = \"adjacent\";\n    SelectorType[\"Child\"] = \"child\";\n    SelectorType[\"Descendant\"] = \"descendant\";\n    SelectorType[\"Parent\"] = \"parent\";\n    SelectorType[\"Sibling\"] = \"sibling\";\n    SelectorType[\"ColumnCombinator\"] = \"column-combinator\";\n})(SelectorType = exports.SelectorType || (exports.SelectorType = {}));\n/**\n * Modes for ignore case.\n *\n * This could be updated to an enum, and the object is\n * the current stand-in that will allow code to be updated\n * without big changes.\n */\nexports.IgnoreCaseMode = {\n    Unknown: null,\n    QuirksMode: \"quirks\",\n    IgnoreCase: true,\n    CaseSensitive: false,\n};\nvar AttributeAction;\n(function (AttributeAction) {\n    AttributeAction[\"Any\"] = \"any\";\n    AttributeAction[\"Element\"] = \"element\";\n    AttributeAction[\"End\"] = \"end\";\n    AttributeAction[\"Equals\"] = \"equals\";\n    AttributeAction[\"Exists\"] = \"exists\";\n    AttributeAction[\"Hyphen\"] = \"hyphen\";\n    AttributeAction[\"Not\"] = \"not\";\n    AttributeAction[\"Start\"] = \"start\";\n})(AttributeAction = exports.AttributeAction || (exports.AttributeAction = {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.isTraversal = void 0;\nvar types_1 = require(\"./types\");\nvar reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nvar reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nvar actionTypes = new Map([\n    [126 /* Tilde */, types_1.AttributeAction.Element],\n    [94 /* Circumflex */, types_1.AttributeAction.Start],\n    [36 /* Dollar */, types_1.AttributeAction.End],\n    [42 /* Asterisk */, types_1.AttributeAction.Any],\n    [33 /* ExclamationMark */, types_1.AttributeAction.Not],\n    [124 /* Pipe */, types_1.AttributeAction.Hyphen],\n]);\n// Pseudos, whose data property is parsed as well.\nvar unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nfunction isTraversal(selector) {\n    switch (selector.type) {\n        case types_1.SelectorType.Adjacent:\n        case types_1.SelectorType.Child:\n        case types_1.SelectorType.Descendant:\n        case types_1.SelectorType.Parent:\n        case types_1.SelectorType.Sibling:\n        case types_1.SelectorType.ColumnCombinator:\n            return true;\n        default:\n            return false;\n    }\n}\nexports.isTraversal = isTraversal;\nvar stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    var high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isQuote(c) {\n    return c === 39 /* SingleQuote */ || c === 34 /* DoubleQuote */;\n}\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 9 /* Tab */ ||\n        c === 10 /* NewLine */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nfunction parse(selector) {\n    var subselects = [];\n    var endIndex = parseSelector(subselects, \"\".concat(selector), 0);\n    if (endIndex < selector.length) {\n        throw new Error(\"Unmatched selector: \".concat(selector.slice(endIndex)));\n    }\n    return subselects;\n}\nexports.parse = parse;\nfunction parseSelector(subselects, selector, selectorIndex) {\n    var tokens = [];\n    function getName(offset) {\n        var match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(\"Expected name, found \".concat(selector.slice(selectorIndex)));\n        }\n        var name = match[0];\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        selectorIndex += offset;\n        while (selectorIndex < selector.length &&\n            isWhitespace(selector.charCodeAt(selectorIndex))) {\n            selectorIndex++;\n        }\n    }\n    function readValueWithParenthesis() {\n        selectorIndex += 1;\n        var start = selectorIndex;\n        var counter = 1;\n        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n            if (selector.charCodeAt(selectorIndex) ===\n                40 /* LeftParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter++;\n            }\n            else if (selector.charCodeAt(selectorIndex) ===\n                41 /* RightParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter--;\n            }\n        }\n        if (counter) {\n            throw new Error(\"Parenthesis not matched\");\n        }\n        return unescapeCSS(selector.slice(start, selectorIndex - 1));\n    }\n    function isEscaped(pos) {\n        var slashCount = 0;\n        while (selector.charCodeAt(--pos) === 92 /* BackSlash */)\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    function addTraversal(type) {\n        if (tokens.length > 0 &&\n            tokens[tokens.length - 1].type === types_1.SelectorType.Descendant) {\n            tokens[tokens.length - 1].type = type;\n            return;\n        }\n        ensureNotTraversal();\n        tokens.push({ type: type });\n    }\n    function addSpecialAttribute(name, action) {\n        tokens.push({\n            type: types_1.SelectorType.Attribute,\n            name: name,\n            action: action,\n            value: getName(1),\n            namespace: null,\n            ignoreCase: \"quirks\",\n        });\n    }\n    /**\n     * We have finished parsing the current part of the selector.\n     *\n     * Remove descendant tokens at the end if they exist,\n     * and return the last index, so that parsing can be\n     * picked up from here.\n     */\n    function finalizeSubselector() {\n        if (tokens.length &&\n            tokens[tokens.length - 1].type === types_1.SelectorType.Descendant) {\n            tokens.pop();\n        }\n        if (tokens.length === 0) {\n            throw new Error(\"Empty sub-selector\");\n        }\n        subselects.push(tokens);\n    }\n    stripWhitespace(0);\n    if (selector.length === selectorIndex) {\n        return selectorIndex;\n    }\n    loop: while (selectorIndex < selector.length) {\n        var firstChar = selector.charCodeAt(selectorIndex);\n        switch (firstChar) {\n            // Whitespace\n            case 32 /* Space */:\n            case 9 /* Tab */:\n            case 10 /* NewLine */:\n            case 12 /* FormFeed */:\n            case 13 /* CarriageReturn */: {\n                if (tokens.length === 0 ||\n                    tokens[0].type !== types_1.SelectorType.Descendant) {\n                    ensureNotTraversal();\n                    tokens.push({ type: types_1.SelectorType.Descendant });\n                }\n                stripWhitespace(1);\n                break;\n            }\n            // Traversals\n            case 62 /* GreaterThan */: {\n                addTraversal(types_1.SelectorType.Child);\n                stripWhitespace(1);\n                break;\n            }\n            case 60 /* LessThan */: {\n                addTraversal(types_1.SelectorType.Parent);\n                stripWhitespace(1);\n                break;\n            }\n            case 126 /* Tilde */: {\n                addTraversal(types_1.SelectorType.Sibling);\n                stripWhitespace(1);\n                break;\n            }\n            case 43 /* Plus */: {\n                addTraversal(types_1.SelectorType.Adjacent);\n                stripWhitespace(1);\n                break;\n            }\n            // Special attribute selectors: .class, #id\n            case 46 /* Period */: {\n                addSpecialAttribute(\"class\", types_1.AttributeAction.Element);\n                break;\n            }\n            case 35 /* Hash */: {\n                addSpecialAttribute(\"id\", types_1.AttributeAction.Equals);\n                break;\n            }\n            case 91 /* LeftSquareBracket */: {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                var name_1 = void 0;\n                var namespace = null;\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */) {\n                    // Equivalent to no namespace\n                    name_1 = getName(1);\n                }\n                else if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    name_1 = getName(2);\n                }\n                else {\n                    name_1 = getName(0);\n                    if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                        selector.charCodeAt(selectorIndex + 1) !==\n                            61 /* Equal */) {\n                        namespace = name_1;\n                        name_1 = getName(1);\n                    }\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                var action = types_1.AttributeAction.Exists;\n                var possibleAction = actionTypes.get(selector.charCodeAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charCodeAt(selectorIndex + 1) !==\n                        61 /* Equal */) {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charCodeAt(selectorIndex) === 61 /* Equal */) {\n                    action = types_1.AttributeAction.Equals;\n                    stripWhitespace(1);\n                }\n                // Determine value\n                var value = \"\";\n                var ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (isQuote(selector.charCodeAt(selectorIndex))) {\n                        var quote = selector.charCodeAt(selectorIndex);\n                        var sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charCodeAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charCodeAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        var valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charCodeAt(selectorIndex)) &&\n                                selector.charCodeAt(selectorIndex) !==\n                                    93 /* RightSquareBracket */) ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    var forceIgnore = selector.charCodeAt(selectorIndex) | 0x20;\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === 115 /* LowerS */) {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === 105 /* LowerI */) {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                if (selector.charCodeAt(selectorIndex) !==\n                    93 /* RightSquareBracket */) {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                var attributeSelector = {\n                    type: types_1.SelectorType.Attribute,\n                    name: name_1,\n                    action: action,\n                    value: value,\n                    namespace: namespace,\n                    ignoreCase: ignoreCase,\n                };\n                tokens.push(attributeSelector);\n                break;\n            }\n            case 58 /* Colon */: {\n                if (selector.charCodeAt(selectorIndex + 1) === 58 /* Colon */) {\n                    tokens.push({\n                        type: types_1.SelectorType.PseudoElement,\n                        name: getName(2).toLowerCase(),\n                        data: selector.charCodeAt(selectorIndex) ===\n                            40 /* LeftParenthesis */\n                            ? readValueWithParenthesis()\n                            : null,\n                    });\n                    continue;\n                }\n                var name_2 = getName(1).toLowerCase();\n                var data = null;\n                if (selector.charCodeAt(selectorIndex) ===\n                    40 /* LeftParenthesis */) {\n                    if (unpackPseudos.has(name_2)) {\n                        if (isQuote(selector.charCodeAt(selectorIndex + 1))) {\n                            throw new Error(\"Pseudo-selector \".concat(name_2, \" cannot be quoted\"));\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, selectorIndex + 1);\n                        if (selector.charCodeAt(selectorIndex) !==\n                            41 /* RightParenthesis */) {\n                            throw new Error(\"Missing closing parenthesis in :\".concat(name_2, \" (\").concat(selector, \")\"));\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        data = readValueWithParenthesis();\n                        if (stripQuotesFromPseudos.has(name_2)) {\n                            var quot = data.charCodeAt(0);\n                            if (quot === data.charCodeAt(data.length - 1) &&\n                                isQuote(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                        }\n                        data = unescapeCSS(data);\n                    }\n                }\n                tokens.push({ type: types_1.SelectorType.Pseudo, name: name_2, data: data });\n                break;\n            }\n            case 44 /* Comma */: {\n                finalizeSubselector();\n                tokens = [];\n                stripWhitespace(1);\n                break;\n            }\n            default: {\n                if (selector.startsWith(\"/*\", selectorIndex)) {\n                    var endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n                    if (endIndex < 0) {\n                        throw new Error(\"Comment was not terminated\");\n                    }\n                    selectorIndex = endIndex + 2;\n                    // Remove leading whitespace\n                    if (tokens.length === 0) {\n                        stripWhitespace(0);\n                    }\n                    break;\n                }\n                var namespace = null;\n                var name_3 = void 0;\n                if (firstChar === 42 /* Asterisk */) {\n                    selectorIndex += 1;\n                    name_3 = \"*\";\n                }\n                else if (firstChar === 124 /* Pipe */) {\n                    name_3 = \"\";\n                    if (selector.charCodeAt(selectorIndex + 1) === 124 /* Pipe */) {\n                        addTraversal(types_1.SelectorType.ColumnCombinator);\n                        stripWhitespace(2);\n                        break;\n                    }\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name_3 = getName(0);\n                }\n                else {\n                    break loop;\n                }\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                    selector.charCodeAt(selectorIndex + 1) !== 124 /* Pipe */) {\n                    namespace = name_3;\n                    if (selector.charCodeAt(selectorIndex + 1) ===\n                        42 /* Asterisk */) {\n                        name_3 = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name_3 = getName(1);\n                    }\n                }\n                tokens.push(name_3 === \"*\"\n                    ? { type: types_1.SelectorType.Universal, namespace: namespace }\n                    : { type: types_1.SelectorType.Tag, name: name_3, namespace: namespace });\n            }\n        }\n    }\n    finalizeSubselector();\n    return selectorIndex;\n}\n", "\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = void 0;\nvar types_1 = require(\"./types\");\nvar attribValChars = [\"\\\\\", '\"'];\nvar pseudoValChars = __spreadArray(__spreadArray([], attribValChars, true), [\"(\", \")\"], false);\nvar charsToEscapeInAttributeValue = new Set(attribValChars.map(function (c) { return c.charCodeAt(0); }));\nvar charsToEscapeInPseudoValue = new Set(pseudoValChars.map(function (c) { return c.charCodeAt(0); }));\nvar charsToEscapeInName = new Set(__spreadArray(__spreadArray([], pseudoValChars, true), [\n    \"~\",\n    \"^\",\n    \"$\",\n    \"*\",\n    \"+\",\n    \"!\",\n    \"|\",\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \".\",\n], false).map(function (c) { return c.charCodeAt(0); }));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nfunction stringify(selector) {\n    return selector\n        .map(function (token) { return token.map(stringifyToken).join(\"\"); })\n        .join(\", \");\n}\nexports.stringify = stringify;\nfunction stringifyToken(token, index, arr) {\n    switch (token.type) {\n        // Simple types\n        case types_1.SelectorType.Child:\n            return index === 0 ? \"> \" : \" > \";\n        case types_1.SelectorType.Parent:\n            return index === 0 ? \"< \" : \" < \";\n        case types_1.SelectorType.Sibling:\n            return index === 0 ? \"~ \" : \" ~ \";\n        case types_1.SelectorType.Adjacent:\n            return index === 0 ? \"+ \" : \" + \";\n        case types_1.SelectorType.Descendant:\n            return \" \";\n        case types_1.SelectorType.ColumnCombinator:\n            return index === 0 ? \"|| \" : \" || \";\n        case types_1.SelectorType.Universal:\n            // Return an empty string if the selector isn't needed.\n            return token.namespace === \"*\" &&\n                index + 1 < arr.length &&\n                \"name\" in arr[index + 1]\n                ? \"\"\n                : \"\".concat(getNamespace(token.namespace), \"*\");\n        case types_1.SelectorType.Tag:\n            return getNamespacedName(token);\n        case types_1.SelectorType.PseudoElement:\n            return \"::\".concat(escapeName(token.name, charsToEscapeInName)).concat(token.data === null\n                ? \"\"\n                : \"(\".concat(escapeName(token.data, charsToEscapeInPseudoValue), \")\"));\n        case types_1.SelectorType.Pseudo:\n            return \":\".concat(escapeName(token.name, charsToEscapeInName)).concat(token.data === null\n                ? \"\"\n                : \"(\".concat(typeof token.data === \"string\"\n                    ? escapeName(token.data, charsToEscapeInPseudoValue)\n                    : stringify(token.data), \")\"));\n        case types_1.SelectorType.Attribute: {\n            if (token.name === \"id\" &&\n                token.action === types_1.AttributeAction.Equals &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return \"#\".concat(escapeName(token.value, charsToEscapeInName));\n            }\n            if (token.name === \"class\" &&\n                token.action === types_1.AttributeAction.Element &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return \".\".concat(escapeName(token.value, charsToEscapeInName));\n            }\n            var name_1 = getNamespacedName(token);\n            if (token.action === types_1.AttributeAction.Exists) {\n                return \"[\".concat(name_1, \"]\");\n            }\n            return \"[\".concat(name_1).concat(getActionValue(token.action), \"=\\\"\").concat(escapeName(token.value, charsToEscapeInAttributeValue), \"\\\"\").concat(token.ignoreCase === null ? \"\" : token.ignoreCase ? \" i\" : \" s\", \"]\");\n        }\n    }\n}\nfunction getActionValue(action) {\n    switch (action) {\n        case types_1.AttributeAction.Equals:\n            return \"\";\n        case types_1.AttributeAction.Element:\n            return \"~\";\n        case types_1.AttributeAction.Start:\n            return \"^\";\n        case types_1.AttributeAction.End:\n            return \"$\";\n        case types_1.AttributeAction.Any:\n            return \"*\";\n        case types_1.AttributeAction.Not:\n            return \"!\";\n        case types_1.AttributeAction.Hyphen:\n            return \"|\";\n        case types_1.AttributeAction.Exists:\n            throw new Error(\"Shouldn't be here\");\n    }\n}\nfunction getNamespacedName(token) {\n    return \"\".concat(getNamespace(token.namespace)).concat(escapeName(token.name, charsToEscapeInName));\n}\nfunction getNamespace(namespace) {\n    return namespace !== null\n        ? \"\".concat(namespace === \"*\"\n            ? \"*\"\n            : escapeName(namespace, charsToEscapeInName), \"|\")\n        : \"\";\n}\nfunction escapeName(str, charsToEscape) {\n    var lastIdx = 0;\n    var ret = \"\";\n    for (var i = 0; i < str.length; i++) {\n        if (charsToEscape.has(str.charCodeAt(i))) {\n            ret += \"\".concat(str.slice(lastIdx, i), \"\\\\\").concat(str.charAt(i));\n            lastIdx = i + 1;\n        }\n    }\n    return ret.length > 0 ? ret + str.slice(lastIdx) : str;\n}\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.parse = exports.isTraversal = void 0;\n__exportStar(require(\"./types\"), exports);\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"isTraversal\", { enumerable: true, get: function () { return parse_1.isTraversal; } });\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_1.parse; } });\nvar stringify_1 = require(\"./stringify\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return stringify_1.stringify; } });\n", "\"use strict\";var e,t=this&&this.__classPrivateFieldSet||function(e,t,s,r,o){if(\"m\"===r)throw new TypeError(\"Private method is not writable\");if(\"a\"===r&&!o)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof t?e!==t||!o:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===r?o.call(e,s):o?o.value=s:t.set(e,s),s},s=this&&this.__classPrivateFieldGet||function(e,t,s,r){if(\"a\"===s&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof t?e!==t||!r:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===s?r:\"a\"===s?r.call(e):r?r.value:t.get(e)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Element=exports.t=exports.s=exports.removeClass=exports.onEach=exports.once=exports.on=exports.off=exports.hasClass=exports.h=exports.empty=exports.emitCustom=exports.emit=exports.addClass=void 0;const r=require(\"css-what\");exports.addClass=(e,...t)=>e.classList.add(...t);exports.emit=(e,t)=>e.dispatchEvent(t);exports.emitCustom=(e,t,...s)=>(0,exports.emit)(e,new CustomEvent(t,{detail:s}));exports.empty=e=>{for(var t;e.hasChildNodes();)null===(t=e.firstChild)||void 0===t||t.remove()};exports.h=(e,...t)=>{const[s]=(0,r.parse)(e).map((e=>e.reduce(((e,t)=>{var s;return\"tag\"===t.type?document.createElement(t.name):(\"attribute\"===t.type&&\"class\"!==t.name&&e.setAttribute(t.name,null!==(s=t.value)&&void 0!==s?s:\"\"),\"attribute\"===t.type&&\"class\"===t.name&&e.classList.add(t.value),e)}),document.createElement(\"div\"))));return t.forEach((e=>{e instanceof o&&(e=e.element()),s.append(e)})),s};exports.hasClass=(e,t)=>e.classList.contains(t);exports.off=(e,t,s,r={})=>e.removeEventListener(t,s,r);exports.on=(e,t,s,r={})=>e.addEventListener(t,s,r);exports.once=(e,t,s,r={})=>(0,exports.on)(e,t,s,Object.assign(Object.assign({},\"boolean\"==typeof r?{capture:r}:r),{once:!0}));exports.onEach=(e,t,s,r={})=>t.forEach((t=>(0,exports.on)(e,t,s,r)));exports.removeClass=(e,...t)=>e.classList.remove(...t);exports.s=e=>{const t=document.createElement(\"div\");return t.innerHTML=e,t.firstElementChild};exports.t=e=>document.createTextNode(e);class o{constructor(s){e.set(this,void 0),t(this,e,s,\"f\")}static fromSelector(e,...t){return new o((0,exports.h)(e,...t))}static fromString(e){return new o((0,exports.s)(e))}addClass(...e){(0,exports.addClass)(this.element(),...e)}append(...e){e.forEach((e=>{e instanceof o&&(e=e.element()),this.element().append(e)}))}element(){return s(this,e,\"f\")}emit(e){return(0,exports.emit)(this.element(),e)}emitCustom(e,...t){return(0,exports.emitCustom)(this.element(),e,...t)}empty(){(0,exports.empty)(this.element())}hasClass(e){return(0,exports.hasClass)(this.element(),e)}on(e,t,s={}){(0,exports.on)(this.element(),e,t,s)}off(e,t,s={}){(0,exports.off)(this.element(),e,t,s)}once(e,t,s={}){(0,exports.once)(this.element(),e,t,s)}onEach(e,t,s={}){(0,exports.onEach)(this.element(),e,t,s)}query(e){return this.element().querySelector(e)}queryAll(e){return this.element().querySelectorAll(e)}removeClass(...e){(0,exports.removeClass)(this.element(),...e)}}exports.Element=o,e=new WeakMap,exports.default=o;", "/**\n * Melba - lightweight, accessible, VanillaJS toast library.\n */\nimport EventEmitter from '@dom111/typed-event-emitter/EventEmitter';\nimport supportsFocusWithin from \"./lib/supportsFocusWithin\";\n\ntype MelbaEventMap = {\n  build: [];\n  hide: [];\n  remove: [];\n  show: [];\n};\ntype MelbaEventHandler<K extends keyof MelbaEventMap> = (\n  ...args: MelbaEventMap[K]\n) => void;\ntype MelbaEventContainer = {\n  [K in keyof MelbaEventMap]?: MelbaEventHandler<K>[];\n};\ntype MelbaConstructorOptions = MelbaOptions & {\n  container?: HTMLElement | null;\n  events?: MelbaEventContainer;\n  type?: MelbaType;\n};\n\ntype MelbaType = 'error' | 'info' | 'success' | 'warning';\n\nexport type MelbaOptions = {\n  animation?: boolean;\n  animationDuration?: number;\n  autoShow?: boolean;\n  containerClass?: string;\n  containerElement?: string;\n  closeLabel?: string;\n  hide?: boolean | number;\n  hideDelay?: number;\n  root?: HTMLElement | null;\n  toastClass?: string;\n  toastElement?: string;\n  toastHideClass?: string;\n  toastShowClass?: string;\n  type?: MelbaType;\n};\n\nexport class Melba extends EventEmitter<MelbaEventMap> {\n  /**\n   * #defaults\n   *\n   * The library's default parameters:\n   *\n   * - `animation` - Whether or not the element is animated with CSS.\n   * - `animationDuration` - The duration of the CSS animation.\n   * - `autoShow` - If the toast should be automatically shown when instantiated. Defaults to `true`.\n   * - `containerClass` - The `className` applied to the container element.\n   * - `containerElement` - The element type used for the container.\n   * - `closeLabel` - The text label for the close button.\n   * - `hide` - Controls auto-hide behaviour. `false` disables by default, a number controls the time before auto-hiding\n   *     and `true` will auto-hide after a delay of `hideDelay`.\n   * - `hideDelay` - The default auto-hide delay.\n   * - `root` - The root element to attach the `containerElement` to.\n   * - `toastClass` - The `className` to apply to all toasts.\n   * - `toastElement` - The element type used for toasts.\n   * - `toastEvents` - The DOM events to expose for toasts.\n   * - `toastHideClass` - The `className` applied to the toast to hide.\n   * - `toastShowClass` - The `className` applied to the toast to show.\n   * - `type` - The type of the toast, this will be added as a `className` like `toast--${type}`.\n   *\n   * @type {MelbaOptions}\n   */\n  private static defaults: MelbaOptions = {\n    animation: true,\n    animationDuration: 400,\n    autoShow: true,\n    closeLabel: 'Close', // TODO: i18n\n    containerClass: 'toast__container',\n    containerElement: 'div',\n    hide: false,\n    hideDelay: 5,\n    root: document.body,\n    toastClass: 'toast',\n    toastElement: 'div',\n    toastHideClass: 'toast--hide',\n    toastShowClass: 'toast--show',\n    type: 'info',\n  };\n\n  private animation: boolean;\n  private autoShow: boolean;\n  private container: HTMLElement;\n  private element: HTMLElement;\n  private events: MelbaEventContainer;\n  private hasFocus: boolean;\n  private hideDelay: false | number;\n  private toastHideClass: string;\n  private toastShowClass: string;\n\n  /**\n   * @param animation {boolean} Optional. Used to override the `defaults`.\n   * @param animationDuration {number} Optional. Used to override the `defaults`.\n   * @param closeLabel {string} Optional. Used to override the `defaults`.\n   * @param container {?HTMLElement} Optional. Specify the container element.\n   * @param containerClass {string} Optional. Used to override the `defaults`.\n   * @param containerElement {string} Optional. Used to override the `defaults`.\n   * @param content {string} Required. The content to show in the toast.\n   * @param events {MelbaEventContainer}. An object that contains event reference keys (see calls to `events()`) which\n   *   contain arrays of callables.\n   * @param hide {boolean | number} Optional. Used to override the `defaults`.\n   * @param root {HTMLElement} Optional. Used to override the `defaults`.\n   * @param toastClass {string} Optional. Used to override the `defaults`.\n   * @param toastElement {string} Optional. Used to override the `defaults`.\n   * @param toastHideClass {string} Optional. Used to override the `defaults`.\n   * @param toastShowClass {string} Optional. Used to override the `defaults`.\n   * @param type {string} Optional. Used to override the `defaults`.\n   */\n  constructor(\n    content: string,\n    {\n      animation = Melba.defaults.animation,\n      animationDuration = Melba.defaults.animationDuration,\n      closeLabel = Melba.defaults.closeLabel,\n      container = null,\n      containerClass = Melba.defaults.containerClass,\n      containerElement = Melba.defaults.containerElement,\n      events = {},\n      hide = Melba.defaults.hide,\n      root = Melba.defaults.root,\n      toastClass = Melba.defaults.toastClass,\n      toastElement = Melba.defaults.toastElement,\n      toastHideClass = Melba.defaults.toastHideClass,\n      toastShowClass = Melba.defaults.toastShowClass,\n      type = Melba.defaults.type,\n    }: MelbaConstructorOptions\n  ) {\n    super();\n\n    if (!content) {\n      throw new TypeError(\"'content' cannot be empty.\");\n    }\n\n    this.animation = animation;\n    this.events = events;\n    this.toastHideClass = toastHideClass;\n    this.toastShowClass = toastShowClass;\n\n    if (!container) {\n      container = this.getContainer({ containerClass, containerElement, root });\n    }\n\n    this.container = container;\n\n    if (hide === true) {\n      hide = Melba.defaults.hideDelay;\n    }\n\n    // ensure we store milliseconds\n    if (hide !== false && hide < 100) {\n      hide *= 1000;\n    }\n\n    this.hideDelay = hide;\n\n    if (animationDuration < 100) {\n      animationDuration *= 1000;\n    }\n\n    this.build({\n      closeLabel,\n      content,\n      toastClass,\n      toastElement,\n      type,\n    });\n\n    if (this.hideDelay !== false) {\n      this.autoHide(animationDuration);\n    }\n\n    if (this.animation) {\n      window.requestAnimationFrame(() => this.show());\n\n      return;\n    }\n\n    if (this.autoShow) {\n      this.show();\n    }\n  }\n\n  private autoHide(animationDuration: number): number {\n    if (!this.hideDelay) {\n      return;\n    }\n\n    return window.setTimeout(\n      () => this.hide(),\n      this.hideDelay + (this.animation ? animationDuration : 0)\n    );\n  }\n\n  private build({\n    closeLabel,\n    content,\n    toastClass,\n    toastElement,\n    type,\n  }: {\n    closeLabel: string;\n    content: string;\n    toastClass: string;\n    toastElement: string;\n    type: string;\n  }): void {\n    this.element = document.createElement(toastElement);\n\n    this.element.setAttribute('title', content);\n    this.element.setAttribute('role', 'status'); // for screen readers\n    this.element.setAttribute('tabindex', '0'); // make the toast navigable via keyboard\n    this.element.classList.add(toastClass);\n    this.element.classList.add(`toast--${type}`);\n    this.element.appendChild(this.buildClose(closeLabel));\n    this.element.appendChild(document.createTextNode(content));\n\n    this.element.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n\n        this.hide();\n      }\n    });\n\n    this.container.appendChild(this.element);\n\n    this.emit('build');\n  }\n\n  show(): void {\n    this.element.classList.remove(this.toastHideClass);\n    this.element.classList.add(this.toastShowClass);\n\n    this.emit('show');\n  }\n\n  hide(force: boolean = false): void {\n    if (!force && this.hasFocus) {\n      return;\n    }\n\n    const focusSelector = (supportsFocusWithin ? ':focus-within, ' : '') + ':focus, :hover';\n\n    if (!force && this.element.matches(focusSelector)) {\n      this.element.addEventListener('mouseout', () => {\n        this.hasFocus = false;\n\n        if (this.hideDelay > 0) {\n          this.hide();\n        }\n      });\n    }\n\n    this.element.classList.remove(this.toastShowClass);\n    this.element.classList.add(this.toastHideClass);\n\n    this.emit('hide');\n\n    // if we're animating there's a chance that the toast could be focused whilst it's disappearing. This prevents a\n    // `:hover`ed or `:focus`ed toast from being hidden and removed.\n    if (this.animation) {\n      const transitionEndHandler = () => this.remove(),\n        transitionStartHandler = () => {\n          if (bound) {\n            return;\n          }\n\n          this.element.addEventListener('transitionend', () =>\n            transitionEndHandler()\n          );\n\n          bound = true;\n        },\n        mouseOverHandler = () => {\n          this.show();\n\n          this.element.removeEventListener('transitionstart', () =>\n            transitionStartHandler()\n          );\n          this.element.removeEventListener('transitionend', () =>\n            transitionEndHandler()\n          );\n          this.element.removeEventListener('mouseover', () =>\n            mouseOverHandler()\n          );\n          this.element.addEventListener('mouseout', () => this.hide());\n        };\n\n      let bound = false;\n\n      this.element.addEventListener('mouseover', () => mouseOverHandler());\n      this.element.addEventListener('transitionstart', () =>\n        transitionStartHandler()\n      );\n\n      return;\n    }\n\n    this.remove();\n  }\n\n  remove(): void {\n    // Safety as `remove` can end up being called multiple times\n    if (this.element.parentNode === this.container) {\n      this.container.removeChild(this.element);\n\n      this.emit('remove');\n    }\n  }\n\n  buildClose(closeLabel): HTMLButtonElement {\n    const closeButton = document.createElement('button');\n\n    closeButton.setAttribute('title', closeLabel);\n    closeButton.appendChild(document.createTextNode(closeLabel));\n    closeButton.addEventListener('click', () => this.hide());\n\n    return closeButton;\n  }\n\n  getContainer({\n    containerClass,\n    containerElement,\n    root,\n  }: {\n    containerClass: string;\n    containerElement: string;\n    root: HTMLElement;\n  }): HTMLElement {\n    const existingContainer = root.querySelector(\n      `${containerElement}.${containerClass}`\n    );\n\n    if (existingContainer) {\n      return existingContainer as HTMLElement;\n    }\n\n    const container = document.createElement(containerElement);\n\n    container.classList.add(containerClass);\n    root.appendChild(container);\n\n    return container;\n  }\n\n  getElement(): HTMLElement {\n    return this.element;\n  }\n\n  /**\n   * Used to override the default settings for all instances.\n   *\n   * @param settings {MelbaOptions} See `defaults` for details.\n   */\n  static settings(settings: MelbaOptions): void {\n    Melba.defaults = {\n      ...Melba.defaults,\n      ...settings,\n    };\n  }\n}\n\nexport const toast = (content: string, options: MelbaOptions = {}): Melba =>\n  new Melba(content, {\n    ...options,\n    autoShow: true,\n  });\n\nexport const error = (content: string, options: MelbaOptions = {}): Melba =>\n  toast(content, {\n    ...options,\n    type: 'error',\n  });\n\nexport const info = (content: string, options: MelbaOptions = {}): Melba =>\n  toast(content, {\n    ...options,\n    type: 'info',\n  });\n\nexport const success = (content: string, options: MelbaOptions = {}): Melba =>\n  toast(content, {\n    ...options,\n    type: 'success',\n    hide: true,\n  });\n\nexport const warning = (content: string, options: MelbaOptions = {}): Melba =>\n  toast(content, {\n    ...options,\n    type: 'warning',\n  });\n\nexport default Melba;\n", "export type EventMap = {\n  [key: string]: any[];\n};\n\ntype Handler<A extends any[]> = (...args: A) => void;\n\ntype HandlerStack<E extends EventMap> = {\n  [K in keyof E]?: Handler<E[K]>[];\n};\n\nexport interface ITypedEventEmitter<\n  T extends EventMap,\n  E extends EventMap = T & EventMap\n> {\n  on<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  once<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  off<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  emit<K extends keyof E>(event: K, ...args: E[K]): void;\n}\n\nexport class EventEmitter<\n  T extends EventMap = EventMap,\n  E extends EventMap = T & EventMap\n> implements ITypedEventEmitter<E>\n{\n  #handlers: HandlerStack<E> = {};\n\n  public on<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    if (!(event in this.#handlers)) {\n      this.#handlers[event] = [];\n    }\n\n    this.#handlers[event]!.push(handler);\n  }\n\n  public once<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    const onceHandler: Handler<E[K]> = (...args) => {\n      handler(...args);\n\n      this.off(event, onceHandler);\n    };\n\n    this.on(event, onceHandler);\n  }\n\n  public off<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    if (!(event in this.#handlers)) {\n      return;\n    }\n\n    const index = this.#handlers[event]!.indexOf(handler);\n\n    if (index === -1) {\n      return;\n    }\n\n    this.#handlers[event]!.splice(index, 1);\n  }\n\n  public emit<K extends keyof E>(event: K, ...args: E[K]): void {\n    if (!(event in this.#handlers)) {\n      return;\n    }\n\n    this.#handlers[event]!.forEach((handler) => handler(...args));\n  }\n}\n\nexport default EventEmitter;\n", "export const supportsFocusWithin: boolean = (() => {\n  try {\n    document.querySelector(':focus-within');\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\nexport default supportsFocusWithin;\n", "!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));", "\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism\u2019s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you\u2019re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading\u2026';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '\u2716 Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '\u2716 Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n", "import Element, { s } from '@dom111/element';\n\nexport default class Container extends Element {\n  constructor() {\n    const template = '<main></main>';\n\n    super(s(template));\n  }\n}\n", "export const joinPath = (...pieces: string[]): string =>\n  leadingSlash(\n    pieces\n      .map(trimSlashes)\n      .filter((piece) => piece)\n      .join('/')\n  );\n\nexport const leadingAndTrailingSlash = (text: string): string =>\n  leadingSlash(trailingSlash(text));\n\nexport const leadingSlash = (text: string): string =>\n  text.startsWith('/') ? text : `/${text}`;\n\nexport const normalisePath = (path: string) =>\n  path\n    .split(/\\//)\n    .map((pathPart: string) => {\n      let unescaped;\n\n      // Yuck! This is needed to decode 'badly' encoded paths (%df for \u00DF for example)\n      try {\n        unescaped = decodeURIComponent(pathPart);\n      } catch (e) {\n        unescaped = unescape(pathPart);\n      }\n\n      return encodeURIComponent(unescaped);\n    })\n    .join('/');\n\nexport const pathAndName = (path: string): [string, string] => {\n  const pathParts = joinPath(normalisePath(path)).split(/\\//),\n    file = pathParts.pop();\n\n  return [joinPath(...pathParts), file];\n};\n\nexport const trailingSlash = (text: string): string =>\n  text.endsWith('/') ? text : `${text}/`;\n\nexport const trimSlashes = (piece: string): string =>\n  piece.replace(/^\\/+|\\/+$/g, '');\n\nexport default joinPath;\n", "export type EventMap = {\n  [key: string]: any[];\n};\n\ntype Handler<A extends any[]> = (...args: A) => void;\n\ntype HandlerStack<E extends EventMap> = {\n  [K in keyof E]?: Handler<E[K]>[];\n};\n\nexport interface ITypedEventEmitter<\n  T extends EventMap,\n  E extends EventMap = T & EventMap\n> {\n  on<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  once<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  off<K extends keyof E>(event: K, handler: Handler<E[K]>): void;\n  emit<K extends keyof E>(event: K, ...args: E[K]): void;\n}\n\nexport class EventEmitter<\n  T extends EventMap = EventMap,\n  E extends EventMap = T & EventMap\n> implements ITypedEventEmitter<E>\n{\n  #handlers: HandlerStack<E> = {};\n\n  public on<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    if (!(event in this.#handlers)) {\n      this.#handlers[event] = [];\n    }\n\n    this.#handlers[event]!.push(handler);\n  }\n\n  public once<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    const onceHandler: Handler<E[K]> = (...args) => {\n      handler(...args);\n\n      this.off(event, onceHandler);\n    };\n\n    this.on(event, onceHandler);\n  }\n\n  public off<K extends keyof E>(event: K, handler: Handler<E[K]>): void {\n    if (!(event in this.#handlers)) {\n      return;\n    }\n\n    const index = this.#handlers[event]!.indexOf(handler);\n\n    if (index === -1) {\n      return;\n    }\n\n    this.#handlers[event]!.splice(index, 1);\n  }\n\n  public emit<K extends keyof E>(event: K, ...args: E[K]): void {\n    if (!(event in this.#handlers)) {\n      return;\n    }\n\n    this.#handlers[event]!.forEach((handler) => handler(...args));\n  }\n}\n\nexport default EventEmitter;\n", "export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}", "export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}", "function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}", "export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}", "export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}", "export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}", "export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}", "export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}", "export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}", "export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}", "import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}", "export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}", "import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}", "import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _toArray from '@babel/runtime/helpers/esm/toArray';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread(_objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }), this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && typeof window.navigator.userAgentData === 'undefined' && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\nvar chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  var possibleChars = chars.filter(function (c) {\n    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;\n  });\n  if (possibleChars.length === 0) return true;\n  var r = new RegExp(\"(\".concat(possibleChars.map(function (c) {\n    return c === '?' ? '\\\\?' : c;\n  }).join('|'), \")\"));\n  var matched = !r.test(key);\n\n  if (!matched) {\n    var ki = key.indexOf(keySeparator);\n\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n\n  return matched;\n}\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n\n    current = current[paths[i]];\n  }\n\n  return current;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  var _super = _createSuper(ResourceStore);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread$1(_objectSpread$1({}, pack), resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread$1(_objectSpread$1({}, {}), this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"hasLanguageSomeTranslations\",\n    value: function hasLanguageSomeTranslations(lng) {\n      var data = this.getDataByLanguage(lng);\n      var n = data && Object.keys(data) || [];\n      return !!n.find(function (v) {\n        return data[v] && Object.keys(data[v]).length > 0;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  var _super = _createSuper$1(Translator);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n\n      if (key === undefined || key === null) {\n        return false;\n      }\n\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS || [];\n      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n\n          if (returnDetails) {\n            resolved.res = \"\".concat(namespace).concat(nsSeparator).concat(key);\n            return resolved;\n          }\n\n          return \"\".concat(namespace).concat(nsSeparator).concat(key);\n        }\n\n        if (returnDetails) {\n          resolved.res = key;\n          return resolved;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n\n          var r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread$2(_objectSpread$2({}, options), {}, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n\n          if (returnDetails) {\n            resolved.res = r;\n            return resolved;\n          }\n\n          return r;\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread$2(_objectSpread$2({}, options), {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread$2(_objectSpread$2({}, options), {}, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k, specificDefaultValue) {\n            var defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language, options).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n          if (this.options.compatibilityAPI !== 'v1') {\n            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? \"\".concat(namespace, \":\").concat(key) : key, usedDefault ? res : undefined);\n          } else {\n            res = this.options.parseMissingKeyHandler(res);\n          }\n        }\n      }\n\n      if (returnDetails) {\n        resolved.res = res;\n        return resolved;\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), options), resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread$2(_objectSpread$2({}, options), {\n          interpolation: _objectSpread$2(_objectSpread$2({}, this.options.interpolation), options.interpolation)\n        }));\n        var skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread$2({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n        var needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && _this4.pluralResolver.shouldUseIntlApi();\n\n        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKeys = [key];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);\n              var zeroSuffix = \"\".concat(_this4.options.pluralSeparator, \"zero\");\n\n              if (needsPluralHandling) {\n                finalKeys.push(key + pluralSuffix);\n\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(key + zeroSuffix);\n                }\n              }\n\n              if (needsContextHandling) {\n                var contextKey = \"\".concat(key).concat(_this4.options.contextSeparator).concat(options.context);\n                finalKeys.push(contextKey);\n\n                if (needsPluralHandling) {\n                  finalKeys.push(contextKey + pluralSuffix);\n\n                  if (needsZeroSuffixLookup) {\n                    finalKeys.push(contextKey + zeroSuffix);\n                  }\n                }\n              }\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nvar deprecatedJsonVersions = ['v1', 'v2', 'v3'];\nvar suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n\n    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.shouldUseIntlApi()) {\n        try {\n          return new Intl.PluralRules(code, {\n            type: options.ordinal ? 'ordinal' : 'cardinal'\n          });\n        } catch (_unused) {\n          return;\n        }\n      }\n\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(function (suffix) {\n        return \"\".concat(key).concat(suffix);\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (!rule) {\n        return [];\n      }\n\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {\n          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];\n        }).map(function (pluralCategory) {\n          return \"\".concat(_this.options.prepend).concat(pluralCategory);\n        });\n      }\n\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number, options);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var rule = this.getRule(code, options);\n\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return \"\".concat(this.options.prepend).concat(rule.select(count));\n        }\n\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }, {\n    key: \"getSuffixRetroCompatible\",\n    value: function getSuffixRetroCompatible(rule, count) {\n      var _this2 = this;\n\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n  }, {\n    key: \"shouldUseIntlApi\",\n    value: function shouldUseIntlApi() {\n      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n            interpolationkey: key\n          })) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n          interpolationkey: k\n        }));\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          var matchedVar = match[1].trim();\n          value = handleFormat(matchedVar);\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (options && options.hasOwnProperty(matchedVar)) {\n              value = '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(matchedVar, \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n\n          if (skipOnVariables) {\n            todo.regex.lastIndex += value.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread$3({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread$3(_objectSpread$3({}, inheritedOptions), clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread$3(_objectSpread$3({}, options), {}, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction parseFormatStr(formatStr) {\n  var formatName = formatStr.toLowerCase().trim();\n  var formatOptions = {};\n\n  if (formatStr.indexOf('(') > -1) {\n    var p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    var optStr = p[1].substring(0, p[1].length - 1);\n\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      var opts = optStr.split(';');\n      opts.forEach(function (opt) {\n        if (!opt) return;\n\n        var _opt$split = opt.split(':'),\n            _opt$split2 = _toArray(_opt$split),\n            key = _opt$split2[0],\n            rest = _opt$split2.slice(1);\n\n        var val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n\n  return {\n    formatName: formatName,\n    formatOptions: formatOptions\n  };\n}\n\nvar Formatter = function () {\n  function Formatter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Formatter);\n\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: function number(val, lng, options) {\n        return new Intl.NumberFormat(lng, options).format(val);\n      },\n      currency: function currency(val, lng, options) {\n        return new Intl.NumberFormat(lng, _objectSpread$4(_objectSpread$4({}, options), {}, {\n          style: 'currency'\n        })).format(val);\n      },\n      datetime: function datetime(val, lng, options) {\n        return new Intl.DateTimeFormat(lng, _objectSpread$4({}, options)).format(val);\n      },\n      relativetime: function relativetime(val, lng, options) {\n        return new Intl.RelativeTimeFormat(lng, _objectSpread$4({}, options)).format(val, options.range || 'day');\n      },\n      list: function list(val, lng, options) {\n        return new Intl.ListFormat(lng, _objectSpread$4({}, options)).format(val);\n      }\n    };\n    this.init(options);\n  }\n\n  _createClass(Formatter, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var iOpts = options.interpolation;\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    }\n  }, {\n    key: \"add\",\n    value: function add(name, fc) {\n      this.formats[name.toLowerCase().trim()] = fc;\n    }\n  }, {\n    key: \"format\",\n    value: function format(value, _format, lng, options) {\n      var _this = this;\n\n      var formats = _format.split(this.formatSeparator);\n\n      var result = formats.reduce(function (mem, f) {\n        var _parseFormatStr = parseFormatStr(f),\n            formatName = _parseFormatStr.formatName,\n            formatOptions = _parseFormatStr.formatOptions;\n\n        if (_this.formats[formatName]) {\n          var formatted = mem;\n\n          try {\n            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = _this.formats[formatName](mem, l, _objectSpread$4(_objectSpread$4(_objectSpread$4({}, formatOptions), options), valOptions));\n          } catch (error) {\n            _this.logger.warn(error);\n          }\n\n          return formatted;\n        } else {\n          _this.logger.warn(\"there was no format function for \".concat(formatName));\n        }\n\n        return mem;\n      }, value);\n      return result;\n    }\n  }]);\n\n  return Formatter;\n}();\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  var _super = _createSuper$2(Connector);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.waitingReads = [];\n    _this.maxParallelReads = options.maxParallelReads || 10;\n    _this.readingCalls = 0;\n    _this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    _this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = {};\n      var pending = {};\n      var toLoadLanguages = {};\n      var toLoadNamespaces = {};\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending[name] === undefined) pending[name] = true;\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending[name] === undefined) pending[name] = true;\n            if (toLoad[name] === undefined) toLoad[name] = true;\n            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n      });\n\n      if (Object.keys(toLoad).length || Object.keys(pending).length) {\n        this.queue.push({\n          pending: pending,\n          pendingCount: Object.keys(pending).length,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: Object.keys(toLoad),\n        pending: Object.keys(pending),\n        toLoadLanguages: Object.keys(toLoadLanguages),\n        toLoadNamespaces: Object.keys(toLoadNamespaces)\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        removePending(q, name);\n        if (err) q.errors.push(err);\n\n        if (q.pendingCount === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = {};\n            var loadedKeys = q.loaded[l];\n\n            if (loadedKeys.length) {\n              loadedKeys.forEach(function (ns) {\n                if (loaded[l][ns] === undefined) loaded[l][ns] = true;\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n\n      if (this.readingCalls >= this.maxParallelReads) {\n        this.waitingReads.push({\n          lng: lng,\n          ns: ns,\n          fcName: fcName,\n          tried: tried,\n          wait: wait,\n          callback: callback\n        });\n        return;\n      }\n\n      this.readingCalls++;\n      return this.backend[fcName](lng, ns, function (err, data) {\n        _this3.readingCalls--;\n\n        if (_this3.waitingReads.length > 0) {\n          var next = _this3.waitingReads.shift();\n\n          _this3.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n        }\n\n        if (err && data && tried < _this3.maxRetries) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread$5(_objectSpread$5({}, options), {}, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction noop() {}\n\nfunction bindMemberFunctions(inst) {\n  var mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(function (mem) {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  var _super = _createSuper$3(I18n);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n    bindMemberFunctions(_assertThisInitialized(_this));\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n        if (typeof options.ns === 'string') {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n\n      var defOpts = get();\n      this.options = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, defOpts), this.options), transformOptions(options));\n\n      if (this.options.compatibilityAPI !== 'v1') {\n        this.options.interpolation = _objectSpread$6(_objectSpread$6({}, defOpts.interpolation), this.options.interpolation);\n      }\n\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var formatter;\n\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        };\n\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, function (e) {\n          if (!e && !_this3.resolvedLanguage && _this3.language) _this3.setResolvedLanguage(_this3.language);\n          usedCallback(e);\n        });\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setResolvedLanguage\",\n    value: function setResolvedLanguage(l) {\n      if (!l || !this.languages) return;\n      if (['cimode', 'dev'].indexOf(l) > -1) return;\n\n      for (var li = 0; li < this.languages.length; li++) {\n        var lngInLngs = this.languages[li];\n        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n\n        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n          this.resolvedLanguage = lngInLngs;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var setLngProps = function setLngProps(l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        _this4.resolvedLanguage = undefined;\n\n        _this4.setResolvedLanguage(l);\n      };\n\n      var done = function done(err, l) {\n        if (l) {\n          setLngProps(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            setLngProps(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns, keyPrefix) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread$6({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n        var keySeparator = _this5.options.keySeparator || '.';\n        var resultKey = options.keyPrefix ? \"\".concat(options.keyPrefix).concat(keySeparator).concat(key) : key;\n        return _this5.t(resultKey, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.resolvedLanguage || this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, this.options), options), {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread$6({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\n_defineProperty(I18n, \"createInstance\", function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new I18n(options, callback);\n});\n\nvar instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nvar createInstance = instance.createInstance;\nvar init = instance.init;\nvar loadResources = instance.loadResources;\nvar reloadResources = instance.reloadResources;\nvar use = instance.use;\nvar changeLanguage = instance.changeLanguage;\nvar getFixedT = instance.getFixedT;\nvar t = instance.t;\nvar exists = instance.exists;\nvar setDefaultNamespace = instance.setDefaultNamespace;\nvar hasLoadedNamespace = instance.hasLoadedNamespace;\nvar loadNamespaces = instance.loadNamespaces;\nvar loadLanguages = instance.loadLanguages;\n\nexport default instance;\nexport { changeLanguage, createInstance, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n", "import joinPath, {\n  normalisePath,\n  pathAndName,\n  trailingSlash,\n} from './joinPath';\nimport Collection from './Collection';\nimport EventEmitter from '@dom111/typed-event-emitter/EventEmitter';\nimport { t } from 'i18next';\n\ntype EntryArgs = {\n  copy?: boolean;\n  directory?: boolean;\n  fullPath?: string;\n  title?: string;\n  modified?: number;\n  move?: boolean;\n  size?: number;\n  mimeType?: string;\n  del?: boolean;\n  rename?: boolean;\n  placeholder?: boolean;\n  uploadedSize?: number;\n  collection?: Collection | null;\n};\n\ntype EntryEvents = {\n  updated: [];\n};\n\nconst sizeToDisplaySize = (size: number): string => {\n  return ['bytes', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB'].reduce(\n    (size: string | number, label) => {\n      if (typeof size === 'string') {\n        return size;\n      }\n\n      if (size < 1024) {\n        return `${size.toFixed(2 * (label === 'bytes' ? 0 : 1))} ${label}`;\n      }\n\n      return size / 1024;\n    },\n    size\n  ) as string;\n};\n\nexport default class Entry extends EventEmitter<EntryEvents> {\n  #copy: boolean;\n  #del: boolean;\n  #directory: boolean;\n  #displaySize: string;\n  #extension: string;\n  #fullPath: string;\n  #mimeType: string;\n  #modified: Date;\n  #move: boolean;\n  #name: string;\n  #path: string;\n  #placeholder: boolean;\n  #uploadedSize: number;\n  #rename: boolean;\n  #size: number;\n  #title: string;\n  #type: string;\n\n  collection: Collection | null;\n\n  constructor({\n    fullPath,\n    collection = null,\n    copy = true,\n    del = true,\n    directory = false,\n    mimeType = '',\n    modified,\n    move = true,\n    placeholder = false,\n    uploadedSize = 0,\n    rename = true,\n    size = 0,\n    title = '',\n  }: EntryArgs) {\n    super();\n\n    const [path, name] = this.getFilename(fullPath);\n\n    const modifiedDate = new Date();\n    modifiedDate.setTime(modified);\n\n    this.#path = path;\n    this.#name = name;\n    this.#copy = copy;\n    this.#directory = directory;\n    this.#fullPath = normalisePath(fullPath);\n    this.#title = title;\n    this.#modified = modifiedDate;\n    this.#move = move;\n    this.#size = size;\n    this.#mimeType = mimeType;\n    this.#del = del;\n    this.#rename = rename;\n    this.#placeholder = placeholder;\n    this.#uploadedSize = uploadedSize;\n    this.collection = collection;\n  }\n\n  createParentEntry(): Entry {\n    return this.update({\n      fullPath: trailingSlash(this.path),\n      title: '&larr;',\n      copy: false,\n      del: false,\n      move: false,\n      rename: false,\n    });\n  }\n\n  getFilename(path: string): [string, string] {\n    return pathAndName(path);\n  }\n\n  update(properties: EntryArgs = {}): Entry {\n    const newEntry = new Entry({\n      ...{\n        directory: this.directory,\n        fullPath: this.fullPath,\n        modified: this.modified.getTime(),\n        size: this.size,\n        mimeType: this.mimeType,\n        del: this.del,\n        rename: this.rename,\n        collection: this.collection,\n      },\n      ...properties,\n    });\n\n    this.emit('replaced', newEntry);\n\n    return newEntry;\n  }\n\n  get copy(): boolean {\n    return this.#copy;\n  }\n\n  get del(): boolean {\n    return this.#del;\n  }\n\n  get directory(): boolean {\n    return this.#directory;\n  }\n\n  get displaySize(): string {\n    if (this.#directory) {\n      return '';\n    }\n\n    if (!this.#displaySize) {\n      this.#displaySize = sizeToDisplaySize(this.#size);\n    }\n\n    if (this.placeholder) {\n      return t('uploadProgress', {\n        interpolation: {\n          escapeValue: false,\n        },\n        uploaded: sizeToDisplaySize(this.#uploadedSize),\n        total: this.#displaySize,\n      });\n    }\n\n    return this.#displaySize;\n  }\n\n  get extension(): string {\n    if (this.directory) {\n      return '';\n    }\n\n    if (!this.#extension) {\n      this.#extension = this.name.split('.').pop();\n    }\n\n    return this.#extension;\n  }\n\n  get fullPath(): string {\n    return this.#fullPath;\n  }\n\n  get mimeType(): string {\n    return this.#mimeType;\n  }\n\n  get modified(): Date {\n    return this.#modified;\n  }\n\n  get move(): boolean {\n    return this.#move;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  set name(name: string) {\n    this.#name = encodeURIComponent(name);\n    this.#title = null;\n    this.#type = null;\n    this.#fullPath = joinPath(this.#path, this.#name);\n\n    if (this.directory) {\n      this.#fullPath = trailingSlash(this.#fullPath);\n    }\n\n    // regenerate these:\n    this.title;\n    this.type;\n\n    this.emit('updated');\n  }\n\n  get path(): string {\n    return this.#path;\n  }\n\n  get placeholder(): boolean {\n    return this.#placeholder;\n  }\n\n  set placeholder(value: boolean) {\n    this.#placeholder = value;\n  }\n\n  get uploadedSize(): number {\n    return this.#uploadedSize;\n  }\n\n  set uploadedSize(value: number) {\n    this.#uploadedSize = value;\n  }\n\n  get rename(): boolean {\n    return this.#rename;\n  }\n\n  get size(): number {\n    return this.#size;\n  }\n\n  get title(): string {\n    if (!this.#title) {\n      this.#title = decodeURIComponent(this.#name);\n    }\n\n    return this.#title;\n  }\n\n  get type(): string {\n    if (!this.#type) {\n      const types = {\n        text: /\\.(?:te?xt|i?nfo|php|cgi|faq|ini|htaccess|log|md|sql|sfv|conf|sh|pl|pm|py|rb|(?:s?c|sa)ss|js|java|coffee|[sx]?html?|xml)$/i,\n        image: /\\.(?:jpe?g|gif|a?png|svg)$/i,\n        video: /\\.(?:mp(?:e?g)?4|mov|avi|webm|ogv|mkv)$/i,\n        audio: /\\.(?:mp3|wav|ogg|flac|mka)$/i,\n        font: /\\.(?:woff2?|eot|[ot]tf)$/i,\n        pdf: /\\.pdf$/i,\n      };\n\n      for (const [key, value] of Object.entries(types)) {\n        if (this.#name.match(value)) {\n          return (this.#type = key);\n        }\n      }\n\n      this.#type = 'unknown';\n    }\n\n    return this.#type;\n  }\n}\n", "import Entry from './Entry';\nimport { EntryObject } from './Response';\nimport EventEmitter from '@dom111/typed-event-emitter/EventEmitter';\nimport joinPath from './joinPath';\n\ntype CollectionEvents = {\n  updated: [];\n};\n\ntype EntryIterator<T = any> = (entry: Entry, index: number) => T;\n\nexport default class Collection extends EventEmitter<CollectionEvents> {\n  #path: string;\n  #entries: Entry[];\n  #sortDirectoriesFirst: boolean;\n\n  // don't need to handle equal paths as that's invalid\n  #sort = (): void => {\n    this.#entries.sort(\n      (a, b) =>\n        (this.#sortDirectoriesFirst && this.#sortDirectories(a, b)) ||\n        this.#sortAlphabetically(a, b)\n    );\n  };\n  #sortAlphabetically = (a: Entry, b: Entry): number =>\n    a.fullPath < b.fullPath ? -1 : 1;\n  #sortDirectories = (a: Entry, b: Entry): number =>\n    (b.directory ? 1 : 0) - (a.directory ? 1 : 0);\n\n  constructor(items: EntryObject[], { sortDirectoriesFirst = false } = {}) {\n    super();\n\n    this.#sortDirectoriesFirst = sortDirectoriesFirst;\n\n    this.#entries = items.map(\n      (item: EntryObject): Entry =>\n        new Entry({\n          ...item,\n          collection: this,\n        })\n    );\n\n    // the first entry is a stub for the directory itself, we can remove that for the root path...\n    const parent = this.#entries.shift();\n\n    this.#path = joinPath(parent.fullPath);\n\n    if (parent.fullPath !== '/') {\n      // ...but change the details for all others.\n      this.#entries.unshift(parent.createParentEntry());\n    }\n\n    this.#sort();\n  }\n\n  add(entry: Entry): void {\n    entry.collection = this;\n\n    this.#entries.push(entry);\n\n    this.#sort();\n\n    this.emit('updated');\n  }\n\n  filter(iterator: EntryIterator<boolean>): Entry[] {\n    return this.#entries.filter(iterator);\n  }\n\n  forEach(iterator: EntryIterator<void>): void {\n    this.#entries.forEach(iterator);\n  }\n\n  map(iterator: EntryIterator): any[] {\n    return this.#entries.map(iterator);\n  }\n\n  path(): string {\n    return this.#path;\n  }\n\n  remove(entry: Entry): void {\n    this.#entries = this.#entries.filter((item): boolean => item !== entry);\n\n    this.emit('updated');\n  }\n}\n", "import Collection from './Collection';\nimport { normalisePath } from './joinPath';\n\nexport type EntryObject = {\n  directory: boolean;\n  fullPath: string;\n  modified: number;\n  size?: number;\n  mimeType?: string;\n};\n\nconst getTag = (doc: Element, tag: string): Element =>\n    doc.getElementsByTagName(tag)[0],\n  getTagContent = (doc: Element, tag: string): string => {\n    const node = getTag(doc, tag);\n\n    return node ? node.textContent : '';\n  };\n\nexport class Response {\n  #collection: Collection;\n  #document: Document;\n  #parser: DOMParser;\n\n  constructor(rawDocument: string, parser: DOMParser = new DOMParser()) {\n    this.#parser = parser;\n    this.#document = parser.parseFromString(rawDocument, 'application/xml');\n  }\n\n  collection({ sortDirectoriesFirst = false } = {}): Collection {\n    if (!this.#collection) {\n      this.#collection = new Collection(\n        this.responseToPrimitives(\n          this.#document.getElementsByTagName('D:response')\n        ),\n        {\n          sortDirectoriesFirst,\n        }\n      );\n    }\n\n    return this.#collection;\n  }\n\n  responseToPrimitives(\n    responses: HTMLCollection = this.#document.getElementsByTagName(\n      'D:response'\n    )\n  ): EntryObject[] {\n    return Array.from(responses).map(\n      (response): EntryObject => ({\n        directory: !!getTag(response, 'D:collection'),\n        fullPath: normalisePath(getTagContent(response, 'D:href')),\n        modified: Date.parse(\n          getTagContent(response, 'lp1:getlastmodified') ||\n            getTagContent(response, 'D:getlastmodified')\n        ),\n        size: parseInt(\n          getTagContent(response, 'lp1:getcontentlength') ||\n            getTagContent(response, 'D:getcontentlength'),\n          10\n        ),\n        mimeType: getTagContent(response, 'D:getcontenttype'),\n      })\n    );\n  }\n}\n\nexport default Response;\n", "export class RequestFailure extends Error {\n  #request: Request;\n  #response: Response;\n\n  constructor(request: Request, response: Response) {\n    super('Request failure');\n\n    this.#request = request;\n    this.#response = response;\n  }\n\n  request(): Request {\n    return this.#request;\n  }\n\n  response(): Response {\n    return this.#response;\n  }\n\n  method(): string {\n    return this.#request.method;\n  }\n\n  url(): string {\n    return this.#request.url;\n  }\n\n  statusText(): string {\n    return this.#response.statusText;\n  }\n\n  status(): number {\n    return this.#response.status;\n  }\n}\n\nexport default RequestFailure;\n", "import RequestFailure from './HTTP/RequestFailure';\n\ntype HTTPMethods =\n  | 'CONNECT'\n  | 'DELETE'\n  | 'GET'\n  | 'HEAD'\n  | 'OPTIONS'\n  | 'PATCH'\n  | 'POST'\n  | 'PUT'\n  | 'TRACE';\ntype WebDAVMethods =\n  | HTTPMethods\n  | 'COPY'\n  | 'LOCK'\n  | 'MKCOL'\n  | 'MOVE'\n  | 'PROPFIND'\n  | 'PROPPATCH'\n  | 'UNLOCK';\ntype MethodParams = {\n  [K in WebDAVMethods]?: RequestInit;\n};\n\nconst defaultParams: MethodParams = {\n  PROPFIND: {\n    headers: {\n      Depth: '1',\n    },\n  },\n};\n\nconst method = async (\n  method: string,\n  url: RequestInfo,\n  parameters: RequestInit\n): Promise<Response> => {\n  const request = new Request(url, {\n    ...(defaultParams[method] || {}),\n    ...parameters,\n    method,\n  });\n\n  const response = await fetch(request);\n\n  if (!response.ok) {\n    throw new RequestFailure(request, response);\n  }\n\n  return response;\n};\n\nconst methodXHR = async (\n  method: string,\n  url: RequestInfo,\n  body: XMLHttpRequestBodyInit | null = null,\n  parameters: RequestInit = {},\n  onProgress: (loaded: number) => void = () => {}\n): Promise<Response> => {\n  return new Promise<Response>(async (resolve, reject) => {\n    const request = new Request(url, {\n        ...(defaultParams[method] || {}),\n        ...parameters,\n        method,\n        body,\n      }),\n      xhr = new XMLHttpRequest();\n\n    xhr.open(request.method, request.url, true);\n    request.headers.forEach((value, key) => xhr.setRequestHeader(key, value));\n    xhr.upload.addEventListener('progress', (e) => onProgress(e.loaded), false);\n    xhr.addEventListener('loadend', () => {\n      // https://fetch.spec.whatwg.org/#statuses\n      const body = [101, 204, 205, 304].includes(xhr.status)\n          ? null\n          : xhr.response,\n        response = new Response(body, {\n          headers: xhr\n            .getAllResponseHeaders()\n            .trim()\n            .split('\\r\\n')\n            .map((line) => line.split(': ', 2) as [string, string]),\n          status: xhr.status,\n          statusText: xhr.statusText,\n        });\n\n      if (!response.ok) {\n        reject(new RequestFailure(request, response));\n      }\n\n      resolve(response);\n    });\n\n    xhr.send(body);\n  });\n};\n\nexport class HTTP {\n  GET(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('GET', url, parameters);\n  }\n\n  HEAD(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('HEAD', url, parameters);\n  }\n\n  PUT(\n    url: string,\n    file: File,\n    onProgress: (uploadedBytes: number) => void,\n    parameters?: RequestInit\n  ): Promise<Response> {\n    return methodXHR(\n      'PUT',\n      url,\n      file,\n      {\n        ...parameters,\n        headers: [['Content-Type', file.type]],\n      },\n      onProgress\n    );\n  }\n\n  PROPFIND(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('PROPFIND', url, parameters);\n  }\n\n  DELETE(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('DELETE', url, parameters);\n  }\n\n  MKCOL(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('MKCOL', url, parameters);\n  }\n\n  COPY(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('COPY', url, parameters);\n  }\n\n  MOVE(url: string, parameters: RequestInit = {}): Promise<Response> {\n    return method('MOVE', url, parameters);\n  }\n}\n\nexport default HTTP;\n", "import joinPath, { trailingSlash } from './joinPath';\nimport Collection from './Collection';\nimport DAVResponse from './Response';\nimport Entry from './Entry';\nimport HTTP from './HTTP';\nimport RequestFailure from './HTTP/RequestFailure';\nimport { error } from 'melba-toast';\nimport { t } from 'i18next';\n\ntype ConstructorOptions = {\n  bypassCheck?: boolean;\n  sortDirectoriesFirst?: boolean;\n};\n\ntype CachedRequests = {\n  GET: string;\n  PROPFIND: Collection;\n};\n\nexport type RequestCache<\n  K extends keyof CachedRequests = keyof CachedRequests,\n  T extends CachedRequests[K] = CachedRequests[K]\n> = Map<K, Map<string, T>>;\n\nconst emptyCache = (): RequestCache => {\n  const cache = new Map<\n    keyof CachedRequests,\n    Map<string, Collection | string>\n  >();\n\n  cache.set('GET', new Map<string, string>());\n  cache.set('PROPFIND', new Map<string, Collection>());\n\n  return cache;\n};\n\nexport class DAV {\n  #bypassCheck: boolean;\n  #cache: RequestCache;\n  #http: HTTP;\n  #sortDirectoriesFirst: boolean;\n\n  #dropCache = <K extends keyof CachedRequests = keyof CachedRequests>(\n    type: K,\n    uri: string\n  ): void | null => {\n    const lookup = this.#cache.get(type);\n\n    if (lookup.has(uri)) {\n      lookup.delete(uri);\n    }\n  };\n  #getCache = <K extends keyof CachedRequests = keyof CachedRequests>(\n    type: K,\n    uri: string\n  ): CachedRequests[K] | null => {\n    const lookup = this.#cache.get(type);\n\n    if (!lookup.has(uri)) {\n      return null;\n    }\n\n    return lookup.get(uri) as CachedRequests[K];\n  };\n  #hasCache = <K extends keyof CachedRequests = keyof CachedRequests>(\n    type: K,\n    uri: string\n  ): boolean => {\n    const lookup = this.#cache.get(type);\n\n    return lookup.has(uri);\n  };\n  #setCache = <K extends keyof CachedRequests = keyof CachedRequests>(\n    type: K,\n    uri: string,\n    value: CachedRequests[K]\n  ): void | null => {\n    const lookup = this.#cache.get(type);\n\n    lookup.set(uri, value);\n  };\n  #toastOnFailure = async (\n    func: () => Promise<Response>,\n    quiet: boolean = false\n  ): Promise<Response> => {\n    try {\n      return await func();\n    } catch (e) {\n      if (!(e instanceof RequestFailure)) {\n        throw e;\n      }\n\n      if (!quiet) {\n        error(\n          t('failure', {\n            interpolation: {\n              escapeValue: false,\n            },\n            method: e.method(),\n            url: e.url(),\n            statusText: e.statusText(),\n            status: e.status(),\n          })\n        );\n      }\n\n      return e.response();\n    }\n  };\n  #validDestination = (destination: string): string => {\n    const hostname = `${location.protocol}//${location.hostname}${\n        location.port ? `:${location.port}` : ''\n      }`,\n      hostnameRegExp = new RegExp(`^${hostname}`);\n\n    if (!destination.match(hostnameRegExp)) {\n      if (destination.match(/^http/)) {\n        throw new TypeError(`Invalid destination host: '${destination}'.`);\n      }\n\n      return `${hostname}${destination}`;\n    }\n\n    return destination;\n  };\n\n  constructor(\n    { bypassCheck, sortDirectoriesFirst }: ConstructorOptions,\n    cache: RequestCache = emptyCache(),\n    http = new HTTP()\n  ) {\n    this.#bypassCheck = bypassCheck;\n    this.#sortDirectoriesFirst = sortDirectoriesFirst;\n    this.#cache = cache;\n    this.#http = http;\n  }\n\n  /**\n   * @param uri The URI to perform a HEAD request for\n   * @param quiet Whether or not to invoke the error toast\n   */\n  async check(\n    uri: string,\n    quiet: boolean = false\n  ): Promise<{\n    ok: boolean;\n    status: number;\n  }> {\n    if (this.#bypassCheck) {\n      return Promise.resolve({\n        ok: true,\n        status: 200,\n      });\n    }\n\n    return this.#toastOnFailure(\n      (): Promise<Response> => this.#http.HEAD(uri),\n      quiet\n    );\n  }\n\n  /**\n   * @param from The path to the file or directory to copy\n   * @param to The path of the directory to copy to\n   * @param entry The Entry for the file to copy\n   * @param overwrite\n   */\n  async copy(\n    from: string,\n    to: string,\n    entry: Entry,\n    overwrite: boolean = false\n  ): Promise<Response> {\n    const headers: HeadersInit = {\n      Destination: this.#validDestination(to),\n      Overwrite: overwrite ? 'T' : 'F',\n    };\n\n    if (entry.directory) {\n      headers['Depth'] = 'infinity';\n    }\n\n    return this.#toastOnFailure(\n      (): Promise<Response> =>\n        this.#http.COPY(from, {\n          headers,\n        })\n    );\n  }\n\n  /**\n   * @param fullPath The full path of the directory to create\n   */\n  async createDirectory(fullPath: string): Promise<Response> {\n    return this.#toastOnFailure(\n      (): Promise<Response> => this.#http.MKCOL(fullPath)\n    );\n  }\n\n  /**\n   * @param uri The URI of the item to delete\n   */\n  async del(uri: string): Promise<Response> {\n    return this.#toastOnFailure(\n      (): Promise<Response> =>\n        this.#http.DELETE(uri, {\n          headers: {\n            Depth: 'infinity',\n          },\n        })\n    );\n  }\n\n  /**\n   * @param uri The URI of the item to get\n   */\n  async get(uri: string): Promise<string | null> {\n    if (!this.#hasCache('GET', uri)) {\n      const response = await this.#toastOnFailure(\n        (): Promise<Response> => this.#http.GET(uri)\n      );\n\n      if (!response.ok) {\n        return;\n      }\n\n      this.#setCache('GET', uri, await response.text());\n    }\n\n    return this.#getCache('GET', uri);\n  }\n\n  /**\n   * @param path The directory path to invalidate cache for\n   */\n  invalidateCache(path: string): void {\n    if (this.#hasCache('PROPFIND', path)) {\n      this.#dropCache('PROPFIND', path);\n    }\n  }\n\n  /**\n   * @param uri The directory to list\n   * @param bypassCache Force skipping cache\n   */\n  async list(uri: string, bypassCache: boolean = false): Promise<Collection> {\n    uri = trailingSlash(uri);\n\n    if (!bypassCache && this.#hasCache('PROPFIND', uri)) {\n      return this.#getCache('PROPFIND', uri);\n    }\n\n    const check = await this.check(uri);\n\n    if (!check || (!check.ok && check.status !== 405)) {\n      return;\n    }\n\n    const data = await this.#toastOnFailure(\n        (): Promise<Response> => this.#http.PROPFIND(uri)\n      ),\n      response = new DAVResponse(await data.text()),\n      collection = response.collection({\n        sortDirectoriesFirst: this.#sortDirectoriesFirst,\n      });\n\n    this.#setCache('PROPFIND', uri, collection);\n\n    return collection;\n  }\n\n  /**\n   * @param from The path to the file or directory to move\n   * @param to The path of the directory to move to\n   * @param entry The Entry object for the file or directory to move\n   * @param overwrite\n   */\n  async move(\n    from: string,\n    to: string,\n    entry: Entry,\n    overwrite: boolean = false\n  ): Promise<Response> {\n    const destination = this.#validDestination(to);\n\n    return this.#toastOnFailure(\n      (): Promise<Response> =>\n        this.#http.MOVE(from, {\n          headers: {\n            Destination: entry.directory\n              ? trailingSlash(destination)\n              : destination,\n            Overwrite: overwrite ? 'T' : 'F',\n          },\n        })\n    );\n  }\n\n  /**\n   * @param path The path to upload the file to\n   * @param file The File object to upload\n   * @param onProgress function to call every time a chunk of data is uploaded\n   */\n  async upload(\n    path: string,\n    file: File,\n    onProgress: (uploadedBytes: number) => void = () => {}\n  ): Promise<Response> {\n    return this.#toastOnFailure(\n      (): Promise<Response> =>\n        this.#http.PUT(joinPath(path, file.name), file, onProgress)\n    );\n  }\n}\n\nexport default DAV;\n", "import Element, { on, s } from '@dom111/element';\nimport joinPath, { trailingSlash } from '../lib/joinPath';\nimport DAV from '../lib/DAV';\nimport Entry from '../lib/Entry';\nimport State from '../lib/State';\nimport handleFileUpload from '../lib/handleFileUpload';\nimport { success } from 'melba-toast';\nimport { t } from 'i18next';\n\nexport default class Footer extends Element {\n  #dav: DAV;\n  #state: State;\n\n  constructor(dav: DAV, state: State) {\n    super(\n      s(`<footer class=\"upload\">\n  <span class=\"droppable\">${t('dropFilesAnywhereToUpload')}</span> ${t('or')}\n  <span class=\"files\">${t(\n    'uploadFiles'\n  )} <input type=\"file\" multiple></span> ${t('or')}\n  <a href=\"#\" class=\"create-directory\">${t('createNewDirectory')}</a>\n</footer>`)\n    );\n\n    this.#dav = dav;\n    this.#state = state;\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    const input = this.query('input[type=\"file\"]') as HTMLInputElement,\n      createDirectoryLink = this.query(\n        '.create-directory'\n      ) as HTMLAnchorElement;\n\n    on(input, 'change', async (): Promise<void> => {\n      for (const file of input.files) {\n        handleFileUpload(this.#dav, this.#state, file);\n      }\n\n      this.#state.update();\n\n      input.value = null;\n    });\n\n    on(\n      createDirectoryLink,\n      'click',\n      async (event: MouseEvent): Promise<void> => {\n        event.preventDefault();\n\n        const directoryName = prompt('', t('directoryName'));\n\n        if (!directoryName) {\n          return;\n        }\n\n        this.handleCreateDirectory(\n          trailingSlash(joinPath(location.pathname, directoryName)),\n          directoryName\n        );\n      }\n    );\n  }\n\n  async handleCreateDirectory(fullPath: string, directoryName: string) {\n    const result = await this.#dav.createDirectory(fullPath);\n\n    if (!result.ok) {\n      return;\n    }\n\n    success(\n      t('successfullyCreated', {\n        interpolation: {\n          escapeValue: false,\n        },\n        directoryName,\n      })\n    );\n\n    const collection = this.#state.getCollection();\n\n    collection.add(\n      new Entry({\n        directory: true,\n        fullPath,\n        modified: Date.now(),\n        collection,\n      })\n    );\n\n    this.#state.update();\n  }\n}\n", "import DAV from './DAV';\nimport Entry from './Entry';\nimport State from './State';\nimport joinPath, { normalisePath } from './joinPath';\nimport { success } from 'melba-toast';\nimport { t } from 'i18next';\n\nexport const handleFileUpload = async (\n  dav: DAV,\n  state: State,\n  file: File\n): Promise<void> => {\n  const collection = await dav.list(state.getPath(), true),\n    normalisedFileName = normalisePath(file.name);\n\n  if (!collection) {\n    return;\n  }\n\n  state.setCollection(collection);\n\n  const [existingFile] = collection.filter(\n    (entry: Entry): boolean => entry.name === normalisedFileName\n  );\n\n  if (existingFile) {\n    // TODO: nicer notification\n    if (\n      !confirm(\n        t('overwriteFileConfirmation', {\n          file: existingFile.title,\n        })\n      )\n    ) {\n      return;\n    }\n\n    collection.remove(existingFile);\n  }\n\n  const placeholder = new Entry({\n    fullPath: joinPath(state.getPath(), file.name),\n    modified: Date.now(),\n    size: file.size,\n    mimeType: file.type,\n    placeholder: true,\n    collection,\n  });\n\n  collection.add(placeholder);\n\n  const result = await dav.upload(\n    location.pathname,\n    file,\n    (uploadedBytes: number) => {\n      placeholder.uploadedSize = uploadedBytes;\n      placeholder.emit('updated');\n    }\n  );\n\n  if (!result.ok) {\n    collection.remove(placeholder);\n\n    state.update();\n\n    return;\n  }\n\n  placeholder.placeholder = false;\n\n  state.update();\n\n  success(\n    t('successfullyUploaded', {\n      interpolation: {\n        escapeValue: false,\n      },\n      file: file.name,\n    })\n  );\n};\n\nexport default handleFileUpload;\n", "import Element, { s } from '@dom111/element';\nimport State from '../lib/State';\n\nconst getPath = (state: State): string => decodeURIComponent(state.getPath());\n\nexport class Header extends Element {\n  #state: State;\n\n  constructor(state: State) {\n    super(\n      s(`<header>\n  <h1>${getPath(state)}</h1>\n</header>`)\n    );\n\n    this.#state = state;\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.#state.on('updated', (): void => {\n      if (this.#state.isDirectory()) {\n        this.update();\n      }\n    });\n  }\n\n  private update(): void {\n    this.query('h1').innerHTML = getPath(this.#state);\n  }\n}\n\nexport default Header;\n", "import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\n// eslint-disable-next-line no-control-regex\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\nvar serializeCookie = function serializeCookie(name, val, options) {\n  var opt = options || {};\n  opt.path = opt.path || '/';\n  var value = encodeURIComponent(val);\n  var str = \"\".concat(name, \"=\").concat(value);\n\n  if (opt.maxAge > 0) {\n    var maxAge = opt.maxAge - 0;\n    if (Number.isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += \"; Max-Age=\".concat(Math.floor(maxAge));\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += \"; Domain=\".concat(opt.domain);\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += \"; Path=\".concat(opt.path);\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += \"; Expires=\".concat(opt.expires.toUTCString());\n  }\n\n  if (opt.httpOnly) str += '; HttpOnly';\n  if (opt.secure) str += '; Secure';\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n};\n\nvar cookie = {\n  create: function create(name, value, minutes, domain) {\n    var cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      path: '/',\n      sameSite: 'strict'\n    };\n\n    if (minutes) {\n      cookieOptions.expires = new Date();\n      cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n    }\n\n    if (domain) cookieOptions.domain = domain;\n    document.cookie = serializeCookie(name, encodeURIComponent(value), cookieOptions);\n  },\n  read: function read(name) {\n    var nameEQ = \"\".concat(name, \"=\");\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  },\n  remove: function remove(name) {\n    this.create(name, '', -1);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      var c = cookie.read(options.lookupCookie);\n      if (c) found = c;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain, options.cookieOptions);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var search = window.location.search;\n\n      if (!window.location.search && window.location.hash && window.location.hash.indexOf('?') > -1) {\n        search = window.location.hash.substring(window.location.hash.indexOf('?'));\n      }\n\n      var query = search.substring(1);\n      var params = query.split('&');\n\n      for (var i = 0; i < params.length; i++) {\n        var pos = params[i].indexOf('=');\n\n        if (pos > 0) {\n          var key = params[i].substring(0, pos);\n\n          if (key === options.lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar hasLocalStorageSupport = null;\n\nvar localStorageAvailable = function localStorageAvailable() {\n  if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n\n  try {\n    hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n\n  return hasLocalStorageSupport;\n};\n\nvar localStorage = {\n  name: 'localStorage',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      var lng = window.localStorage.getItem(options.lookupLocalStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupLocalStorage && localStorageAvailable()) {\n      window.localStorage.setItem(options.lookupLocalStorage, lng);\n    }\n  }\n};\n\nvar hasSessionStorageSupport = null;\n\nvar sessionStorageAvailable = function sessionStorageAvailable() {\n  if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n\n  try {\n    hasSessionStorageSupport = window !== 'undefined' && window.sessionStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.sessionStorage.setItem(testKey, 'foo');\n    window.sessionStorage.removeItem(testKey);\n  } catch (e) {\n    hasSessionStorageSupport = false;\n  }\n\n  return hasSessionStorageSupport;\n};\n\nvar sessionStorage = {\n  name: 'sessionStorage',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      var lng = window.sessionStorage.getItem(options.lookupSessionStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupSessionStorage && sessionStorageAvailable()) {\n      window.sessionStorage.setItem(options.lookupSessionStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup: function lookup(options) {\n    var found = [];\n\n    if (typeof navigator !== 'undefined') {\n      if (navigator.languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (var i = 0; i < navigator.languages.length; i++) {\n          found.push(navigator.languages[i]);\n        }\n      }\n\n      if (navigator.userLanguage) {\n        found.push(navigator.userLanguage);\n      }\n\n      if (navigator.language) {\n        found.push(navigator.language);\n      }\n    }\n\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  lookup: function lookup(options) {\n    var found;\n    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n\n    if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n      found = htmlTag.getAttribute('lang');\n    }\n\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromPathIndex === 'number') {\n          if (typeof language[options.lookupFromPathIndex] !== 'string') {\n            return undefined;\n          }\n\n          found = language[options.lookupFromPathIndex].replace('/', '');\n        } else {\n          found = language[0].replace('/', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup: function lookup(options) {\n    // If given get the subdomain index else 1\n    var lookupFromSubdomainIndex = typeof options.lookupFromSubdomainIndex === 'number' ? options.lookupFromSubdomainIndex + 1 : 1; // get all matches if window.location. is existing\n    // first item of match is the match itself and the second is the first group macht which sould be the first subdomain match\n    // is the hostname no public domain get the or option of localhost\n\n    var language = typeof window !== 'undefined' && window.location && window.location.hostname && window.location.hostname.match(/^(\\w{2,5})\\.(([a-z0-9-]{1,63}\\.[a-z]{2,6})|localhost)/i); // if there is no match (null) return undefined\n\n    if (!language) return undefined; // return the given group match\n\n    return language[lookupFromSubdomainIndex];\n  }\n};\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    lookupSessionStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'] // cookieMinutes: 10,\n    // cookieDomain: 'myDomain'\n\n  };\n}\n\nvar Browser = /*#__PURE__*/function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults()); // backwards compatibility\n\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(cookie$1);\n      this.addDetector(querystring);\n      this.addDetector(localStorage);\n      this.addDetector(sessionStorage);\n      this.addDetector(navigator$1);\n      this.addDetector(htmlTag);\n      this.addDetector(path);\n      this.addDetector(subdomain);\n    }\n  }, {\n    key: \"addDetector\",\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: \"detect\",\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      if (this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n\n      return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n    }\n  }, {\n    key: \"cacheUserLanguage\",\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\n\nexport { Browser as default };\n", "import Element, { emit, on, s } from '@dom111/element';\nimport Collection from '../lib/Collection';\nimport DAV from '../lib/DAV';\nimport Entry from '../lib/Entry';\nimport Item from './Item';\nimport State from '../lib/State';\nimport previewItems from '../lib/previewItems';\nimport supportsFocusWithin from '../lib/supportsFocusWithin';\n\nexport class List extends Element<HTMLUListElement> {\n  #dav: DAV;\n  #state: State;\n\n  constructor(dav: DAV, state: State) {\n    super(s('<ul class=\"loading\"></ul>'));\n\n    this.#dav = dav;\n    this.#state = state;\n\n    this.load();\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.#state.on('updated', (bypassCache: boolean): void => {\n      if (this.#state.isDirectory()) {\n        this.load(bypassCache);\n\n        return;\n      }\n\n      const item = this.query<HTMLLIElement>(\n        `[data-full-path=\"${this.#state.getPath()}\"]`\n      );\n\n      if (!item) {\n        return;\n      }\n\n      emit(item, new MouseEvent('click'));\n    });\n\n    this.#state.on('collection-updated', (): void => this.render());\n\n    const arrowHandler = (event: KeyboardEvent): void => {\n      if (!['ArrowUp', 'ArrowDown'].includes(event.key)) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      const current = this.query(\n          `li:focus${supportsFocusWithin ? ', li:focus-within' : ''}`\n        ) as HTMLElement,\n        [previous, next] = current\n          ? previewItems(current)\n          : [\n              this.element().firstElementChild as HTMLElement,\n              this.element().firstElementChild as HTMLElement,\n            ];\n\n      if (event.key === 'ArrowUp' && previous) {\n        previous.focus();\n      }\n\n      if (event.key === 'ArrowDown' && next) {\n        next.focus();\n      }\n    };\n\n    on(document, 'keydown', arrowHandler);\n  }\n\n  async load(bypassCache: boolean = false): Promise<void> {\n    const collection = await this.#dav.list(this.#state.getPath(), bypassCache);\n\n    if (!collection) {\n      return;\n    }\n\n    this.update(collection);\n  }\n\n  private render(): void {\n    this.addClass('loading');\n\n    this.empty();\n\n    this.#state\n      .getCollection()\n      .forEach((entry: Entry): void =>\n        this.append(new Item(entry, this.#dav, this.#state))\n      );\n\n    this.removeClass('loading');\n  }\n\n  update(collection: Collection): void {\n    this.#state.setCollection(collection);\n\n    this.render();\n  }\n}\n\nexport default List;\n", "import { BasicLightBox, create } from 'basiclightbox';\nimport Element, {\n  addClass,\n  emit,\n  off,\n  on,\n  removeClass,\n  s,\n} from '@dom111/element';\nimport joinPath, { trailingSlash } from '../lib/joinPath';\nimport DAV from '../lib/DAV';\nimport Entry from '../lib/Entry';\nimport Prism from 'prismjs';\nimport State from '../lib/State';\nimport TreeViewModal from './TreeViewModal';\nimport previewItems from '../lib/previewItems';\nimport { success } from 'melba-toast';\nimport { t } from 'i18next';\n\nconst template = (entry: Entry): string => `<li tabindex=\"0\" data-full-path=\"${\n  entry.fullPath\n}\" data-type=\"${entry.type}\">\n  <span class=\"title\">${entry.title}</span>\n  <input type=\"text\" name=\"rename\" class=\"hidden\" readonly>\n  <span class=\"size\">${entry.displaySize}</span>\n  <a href=\"${entry.fullPath}\" download=\"${entry.name}\" title=\"${t(\n  'download'\n)} (\u21E7+\u23CE)\"></a>\n  <a href=\"#\" title=\"${t('copy')}\" class=\"copy\"></a>\n  <a href=\"#\" title=\"${t('rename')} (F2)\" class=\"rename\"></a>\n  <a href=\"#\" title=\"${t('move')}\" class=\"move\"></a>\n  <a href=\"#\" title=\"${t('delete')} (\u2421)\" class=\"delete\"></a>\n</li>`;\n\nexport default class Item extends Element {\n  #dav: DAV;\n  #entry: Entry;\n  #state: State;\n  #templates: {\n    [key: string]: (entry: Entry, content?: string) => string;\n  } = Object.freeze({\n    video: (entry: Entry): string =>\n      `<video autoplay controls><source src=\"${entry.fullPath}\"/></video>`,\n    audio: (entry: Entry): string =>\n      `<audio autoplay controls><source src=\"${entry.fullPath}\"/></audio>`,\n    image: (entry: Entry): string =>\n      `<img alt=\"${entry.title}\" src=\"${entry.fullPath}\"/>`,\n    font: (entry: Entry): string => {\n      const formats = {\n          eot: 'embedded-opentype',\n          otf: 'opentype',\n          ttf: 'truetype',\n        },\n        extension = entry.name.replace(/^.+\\.([^.]+)$/, '$1').toLowerCase(),\n        fontName = entry.fullPath.replace(/\\W+/g, '_'),\n        demoText = `${t('pangram')} 0123456789<br/>\n        ${t('alphabet')}`;\n\n      return `<style>@font-face{font-family:\"${fontName}\";src:url(\"${\n        entry.fullPath\n      }\") format(\"${formats[extension] || extension}\")}</style>\n<h1 style=\"font-family:'${fontName}'\">${entry.title}</h1>\n<p style=\"font-family:'${fontName}';font-size:1.5em\">${demoText}</p>\n<p style=\"font-family:'${fontName}'\">${demoText}</p>\n<p style=\"font-family:'${fontName}'\"><strong>${demoText}</strong></p>\n<p style=\"font-family:'${fontName}'\"><em>${demoText}</em></p>`;\n    },\n    text: (entry: Entry, content: string): string =>\n      `<pre><code class=\"language-${entry.extension}\">${content.replace(\n        /[<>]/g,\n        (c: string): string => (c === '<' ? '&lt;' : '&gt;')\n      )}</code></pre>`,\n    pdf: (entry: Entry): string =>\n      `<iframe src=\"${entry.fullPath}\" height=\"100%\" width=\"100%\"></iframe>`,\n  });\n\n  constructor(entry: Entry, dav: DAV, state: State) {\n    super(s(template(entry)));\n\n    this.#dav = dav;\n    this.#state = state;\n    this.#entry = entry;\n\n    this.addClass(\n      ...[\n        entry.directory ? 'directory' : 'file',\n        entry.type ? entry.type : 'unknown',\n      ]\n    );\n\n    if (entry.placeholder) {\n      this.addClass('loading');\n    }\n\n    if (!entry.copy) {\n      this.query('.copy').setAttribute('hidden', '');\n    }\n\n    if (!entry.del) {\n      this.query('.delete').setAttribute('hidden', '');\n    }\n\n    if (!entry.move) {\n      this.query('.move').setAttribute('hidden', '');\n    }\n\n    if (!entry.rename) {\n      this.query('.rename').setAttribute('hidden', '');\n    }\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.on('click', (event: MouseEvent): void => {\n      if (this.#entry.placeholder) {\n        return;\n      }\n\n      if (event.ctrlKey || event.button === 1) {\n        window.open(this.#entry.fullPath);\n\n        return;\n      }\n\n      if (event.shiftKey) {\n        this.download();\n\n        return;\n      }\n\n      this.open();\n    });\n\n    const entryUpdatedHandler = (): void => {\n      this.#entry.off('updated', entryUpdatedHandler);\n\n      this.update();\n    };\n\n    this.#entry.on('updated', entryUpdatedHandler);\n\n    on(this.query('[download]'), 'click', (event: MouseEvent): void =>\n      event.stopPropagation()\n    );\n\n    on(this.query('.delete'), 'click', (event: MouseEvent): void => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.del();\n    });\n\n    on(this.query('.rename'), 'click', (event: MouseEvent): void => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.rename();\n    });\n\n    on(this.query('.copy'), 'click', (event): void => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.copy();\n    });\n\n    on(this.query('.move'), 'click', (event): void => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.move();\n    });\n\n    this.on('keydown', (event: KeyboardEvent): void => {\n      if (['F2', 'Delete', 'Enter'].includes(event.key)) {\n        event.preventDefault();\n\n        if (event.key === 'F2' && this.#entry.rename) {\n          this.rename();\n        }\n\n        if (event.key === 'Delete' && this.#entry.del) {\n          this.del();\n        }\n\n        if (event.key === 'Enter' && !this.#entry.directory && event.shiftKey) {\n          this.download();\n\n          return;\n        }\n\n        if (event.key === 'Enter') {\n          this.open();\n        }\n      }\n    });\n  }\n\n  async copy(): Promise<void> {\n    const entry = this.#entry,\n      modal = new TreeViewModal(\n        t('copyItemTitle', {\n          file: entry.title,\n        })\n      );\n\n    modal.open();\n\n    const target = await modal.value();\n\n    modal.close();\n\n    if (!target) {\n      return;\n    }\n\n    const destination = joinPath(target, entry.name),\n      checkResponse = await this.#dav.check(destination, true);\n\n    if (\n      checkResponse.ok &&\n      !confirm(\n        t('overwriteFileConfirmation', {\n          file: entry.name,\n        })\n      )\n    ) {\n      return;\n    }\n\n    const response = await this.#dav.copy(\n      entry.fullPath,\n      destination,\n      entry,\n      true\n    );\n\n    if (!response.ok) {\n      return;\n    }\n\n    this.#dav.invalidateCache(trailingSlash(target));\n\n    success(\n      t('successfullyCopied', {\n        interpolation: {\n          escapeValue: false,\n        },\n        from: entry.title,\n        to: destination,\n      })\n    );\n  }\n\n  async del(): Promise<void> {\n    const entry = this.#entry;\n\n    if (!entry.del) {\n      throw new TypeError(`'${entry.name}' is read only.`);\n    }\n\n    this.addClass('loading');\n\n    if (\n      !confirm(\n        t('deleteConfirmation', {\n          file: entry.title,\n        })\n      )\n    ) {\n      this.removeClass('loading');\n\n      return;\n    }\n\n    const response = await this.#dav.del(entry.fullPath);\n\n    if (!response.ok) {\n      return;\n    }\n\n    this.#state.getCollection().remove(this.#entry);\n    this.element().remove();\n\n    success(\n      t('successfullyDeleted', {\n        interpolation: {\n          escapeValue: false,\n        },\n        file: entry.title,\n      })\n    );\n  }\n\n  download(): void {\n    if (this.#entry.directory) {\n      return;\n    }\n\n    emit(this.query<HTMLAnchorElement>('[download]'), new MouseEvent('click'));\n  }\n\n  async move(): Promise<void> {\n    const entry = this.#entry,\n      modal = new TreeViewModal(\n        t('moveItemTitle', {\n          file: entry.title,\n        })\n      );\n\n    modal.open();\n\n    const target = await modal.value();\n\n    modal.close();\n\n    if (!target) {\n      return;\n    }\n\n    const destination = joinPath(target, entry.name),\n      checkResponse = await this.#dav.check(destination, true);\n\n    if (\n      checkResponse.ok &&\n      !confirm(\n        t('overwriteFileConfirmation', {\n          file: entry.name,\n        })\n      )\n    ) {\n      return;\n    }\n\n    const response = await this.#dav.move(\n      entry.fullPath,\n      destination,\n      entry,\n      true\n    );\n\n    if (!response.ok) {\n      return;\n    }\n\n    this.#dav.invalidateCache(trailingSlash(target));\n    this.#state.update(true);\n\n    success(\n      t('successfullyMoved', {\n        interpolation: {\n          escapeValue: false,\n        },\n        from: entry.title,\n        to: destination,\n      })\n    );\n  }\n\n  async open(): Promise<void> {\n    if (this.hasClass('open')) {\n      return;\n    }\n\n    this.addClass('open', 'loading');\n\n    const entry = this.#entry,\n      response = await this.#dav.check(entry.fullPath);\n\n    if (!response.ok) {\n      this.removeClass('open', 'loading');\n\n      return;\n    }\n\n    if (entry.directory) {\n      this.#state.setPath(entry.fullPath);\n      this.removeClass('open', 'loading');\n\n      return;\n    }\n\n    const launchLightbox = (\n      lightboxContent: string,\n      onShow: ((lightbox: BasicLightBox) => any) | null = null\n    ): void => {\n      const close = (): void => lightbox.close(),\n        keyListener = (event: KeyboardEvent): void => {\n          if (!['Escape', 'ArrowUp', 'ArrowDown'].includes(event.key)) {\n            return;\n          }\n\n          const [previous, next] = previewItems(\n            this.element(),\n            'li:not(.directory):not([data-type=\"unknown\"])'\n          );\n\n          close();\n\n          if (event.key === 'ArrowUp' && previous) {\n            emit(previous, new MouseEvent('click'));\n          }\n\n          if (event.key === 'ArrowDown' && next) {\n            emit(next, new MouseEvent('click'));\n          }\n        },\n        lightbox = create(lightboxContent, {\n          className: entry.type,\n          onShow: (): boolean => {\n            this.removeClass('loading');\n\n            on(document, 'keydown', keyListener);\n\n            if (onShow) {\n              onShow(lightbox);\n            }\n\n            this.#state.showPath(entry.fullPath);\n\n            this.#state.on('updated', close);\n\n            return true;\n          },\n          onClose: (): boolean => {\n            off(document, 'keydown', keyListener);\n            this.#state.off('updated', close);\n\n            this.#state.showPath(entry.path);\n\n            this.removeClass('open');\n\n            return true;\n          },\n        });\n\n      lightbox.show();\n    };\n\n    if (['video', 'audio', 'image', 'font', 'pdf'].includes(entry.type)) {\n      launchLightbox(this.#templates[entry.type](entry));\n\n      this.removeClass('loading');\n\n      return;\n    }\n\n    if (entry.type !== 'text') {\n      this.removeClass('open', 'loading');\n\n      this.download();\n\n      return;\n    }\n\n    const content = await this.#dav.get(entry.fullPath);\n\n    if (!content) {\n      this.removeClass('open', 'loading');\n\n      return;\n    }\n\n    launchLightbox(\n      this.#templates.text(entry, content),\n      (lightbox: BasicLightBox): void =>\n        Prism.highlightAllUnder(lightbox.element())\n    );\n\n    this.removeClass('loading');\n  }\n\n  async rename(): Promise<void> {\n    const entry = this.#entry;\n\n    if (!entry.rename) {\n      throw new TypeError(`'${entry.name}' cannot be renamed.`);\n    }\n\n    const node = this.element(),\n      title = this.query<HTMLElement>('.title'),\n      input = this.query<HTMLInputElement>('input'),\n      setInputSize = (): void => {\n        title.innerText = input.value;\n        input.style.setProperty('width', `${title.scrollWidth}px`);\n      },\n      save = async (): Promise<void> => {\n        // don't process if there's no name change\n        if (input.value !== entry.title) {\n          this.addClass('loading');\n\n          unbindListeners();\n\n          const destinationPath = joinPath(entry.path, input.value),\n            result = await this.#dav.move(\n              entry.fullPath,\n              destinationPath,\n              entry\n            );\n\n          if (!result.ok) {\n            return;\n          }\n\n          success(\n            t('successfullyRenamed', {\n              interpolation: {\n                escapeValue: false,\n              },\n              from: entry.title,\n              to: input.value,\n            })\n          );\n\n          entry.name = input.value;\n        }\n\n        revert();\n      },\n      unbindListeners = (): void => {\n        off(input, 'blur', blurListener);\n        off(input, 'keydown', keyDownListener);\n        off(input, 'input', inputListener);\n      },\n      revert = (): void => {\n        removeClass(title, 'invisible');\n        addClass(input, 'hidden');\n        input.value = entry.title;\n        setInputSize();\n        unbindListeners();\n\n        node.focus();\n      },\n      blurListener = async (): Promise<void> => {\n        await save();\n      },\n      keyDownListener = async (event: KeyboardEvent): Promise<void> => {\n        event.stopPropagation();\n\n        if (event.key === 'Enter') {\n          event.preventDefault();\n\n          await save();\n        }\n\n        if (event.key === 'Escape') {\n          revert();\n        }\n      },\n      inputListener = (): void => {\n        return setInputSize();\n      };\n\n    addClass(title, 'invisible');\n    removeClass(input, 'hidden');\n\n    input.value = entry.title;\n\n    setInputSize();\n    input.removeAttribute('readonly');\n    on(input, 'blur', blurListener);\n    on(input, 'keydown', keyDownListener);\n    on(input, 'input', inputListener);\n    input.focus();\n  }\n\n  update(): void {\n    const newItem = new Item(this.#entry, this.#dav, this.#state);\n\n    this.element().replaceWith(newItem.element());\n  }\n}\n", "import { h, on, t } from '@dom111/element';\nimport joinPath, { leadingAndTrailingSlash } from '../lib/joinPath';\nimport Modal from './Modal';\nimport Tree from './Tree/Tree';\nimport WebDAV from './Tree/WebDAV';\n\ntype TreeViewModalEvents = {\n  cancelled: [];\n  selected: [string];\n};\n\nexport class TreeViewModal extends Modal<TreeViewModalEvents> {\n  #tree: Tree;\n\n  constructor(title: string) {\n    super();\n\n    this.#tree = new Tree(new WebDAV());\n\n    this.append(\n      h('header', h('h2', t(title))),\n      this.#tree,\n      h(\n        'footer',\n        h('button[type=\"submit\"]', t('Choose')),\n        h('button', t('Cancel'))\n      )\n    );\n\n    this.addClass('tree-view-modal');\n\n    this.bindLocalEvents();\n  }\n\n  private bindLocalEvents(): void {\n    on(this.query('button[type=\"submit\"]'), 'click', () => {\n      const value = this.#tree.value();\n\n      if (value === null) {\n        this.emitCustom('selected', null);\n\n        return;\n      }\n\n      this.emitCustom('selected', leadingAndTrailingSlash(joinPath(...value)));\n    });\n\n    on(this.query('button:not([type=\"submit\"])'), 'click', () => {\n      this.emitCustom('cancelled');\n    });\n  }\n\n  async value(): Promise<string | null> {\n    return new Promise<string>((resolve) => {\n      this.on('cancelled', () => resolve(null));\n\n      this.on('selected', ({ detail: [path] }) => resolve(path));\n    });\n  }\n}\n\nexport default TreeViewModal;\n", "import Element, { CustomEventMap, h } from '@dom111/element';\n\nexport class Modal<M extends CustomEventMap = CustomEventMap> extends Element<\n  HTMLDialogElement,\n  M\n> {\n  #contentArea: HTMLElement;\n\n  constructor(...childNodes: Node[]) {\n    super(h('dialog[tabindex=\"0\"]'));\n\n    this.#contentArea = h('.content', ...childNodes);\n\n    this.element().append(this.#contentArea);\n\n    document.body.append(this.element());\n\n    this.bindEvents();\n  }\n\n  append(...childNodes: (Element | Node)[]): void {\n    this.#contentArea.append(\n      ...childNodes.map((node) =>\n        node instanceof Element ? node.element() : node\n      )\n    );\n  }\n\n  private bindEvents(): void {\n    this.on('click', (event) => {\n      if (event.target !== this.element()) {\n        return;\n      }\n\n      this.close();\n    });\n\n    this.on('keydown', (event: KeyboardEvent) => {\n      if (event.key !== 'Escape') {\n        return;\n      }\n\n      this.close();\n    });\n  }\n\n  close(): void {\n    this.element().removeAttribute('open');\n  }\n\n  open(): void {\n    this.element().setAttribute('open', '');\n\n    this.element().focus();\n  }\n\n  setLabel(label: string): void {\n    this.element().setAttribute('aria-label', label);\n  }\n}\n\nexport default Modal;\n", "import Element, { s } from '@dom111/element';\nimport Leaf, { LeafEvents } from './Leaf';\nimport DataProvider from './DataProvider';\nimport Node from './Node';\n\ninterface TreeOptions {\n  multiple: boolean;\n  rootLabel: string;\n}\n\ntype TreeEvents = LeafEvents & {\n  selected: [Node | null];\n};\n\nexport class Tree extends Element<HTMLDivElement, TreeEvents> {\n  #dataProvider: DataProvider;\n  #options: TreeOptions = {\n    multiple: false,\n    rootLabel: '/',\n  };\n  #rootNode: Node;\n  #selected: Node | null = null;\n\n  constructor(dataProvider: DataProvider, options: Partial<TreeOptions> = {}) {\n    super(s(`<div class=\"tree\"></div>`));\n\n    this.#dataProvider = dataProvider;\n    this.#options = {\n      ...this.#options,\n      ...options,\n    };\n    this.#rootNode = new Node([], this.#options.rootLabel);\n\n    this.bindEvents();\n    this.build(this.#rootNode);\n  }\n\n  private bindEvents(): void {\n    this.on('leaf-deselected', () => this.setSelected(null));\n\n    this.on('leaf-selected', ({ detail: [leaf] }) => {\n      if (!this.#options.multiple) {\n        this.clearSelected();\n      }\n\n      this.setSelected(leaf.node());\n    });\n  }\n\n  private async build(node: Node): Promise<void> {\n    this.append(new Leaf(node, this.#dataProvider));\n\n    this.#dataProvider.getChildren(node);\n  }\n\n  private clearSelected(): void {\n    this.queryAll('.leaf[aria-selected=\"true\"]').forEach((leafNode) =>\n      leafNode.setAttribute('aria-selected', 'false')\n    );\n  }\n\n  private setSelected(selected: Node | null): void {\n    this.#selected = selected;\n\n    this.emitCustom('selected', selected);\n  }\n\n  value(): string[] | null {\n    return this.#selected && this.#selected.fullPath();\n  }\n}\n\nexport default Tree;\n", "import Element, { empty, on, s, t } from '@dom111/element';\nimport DataProvider from './DataProvider';\nimport Node from './Node';\n\nconst template = (node: Node): string => `\n<div\n    class=\"leaf\"\n    tabindex=\"0\"\n    aria-selected=\"false\"\n    aria-expanded=\"false\"\n>\n  <span class=\"toggle\"></span>\n  <span class=\"name\"></span>\n  <section class=\"children\"></section>\n</div>\n`;\n\nexport type LeafEvents = {\n  'leaf-collapsed': [Leaf];\n  'leaf-deselected': [Leaf];\n  'leaf-expanded': [Leaf];\n  'leaf-selected': [Leaf];\n};\n\nexport class Leaf extends Element<HTMLDivElement, LeafEvents> {\n  #dataProvider: DataProvider;\n  #node: Node;\n\n  constructor(node: Node, dataProvider: DataProvider) {\n    super(s(template(node)));\n\n    this.query('.name').append(t(node.name()));\n\n    this.#dataProvider = dataProvider;\n    this.#node = node;\n\n    this.bindEvents();\n    this.update();\n  }\n\n  private bindEvents(): void {\n    const getChildren = async (node: Node) => {\n        if (node.hasChildren() === null) {\n          await this.#dataProvider.getChildren(this.#node);\n        }\n\n        if (node.hasChildren()) {\n          this.#node\n            .children()\n            .forEach((childNode) => this.#dataProvider.getChildren(childNode));\n        }\n      },\n      expand = () => {\n        this.emit(\n          new CustomEvent<[Leaf]>(\n            this.expanded() ? 'leaf-collapsed' : 'leaf-expanded',\n            {\n              bubbles: true,\n              detail: [this],\n            }\n          )\n        );\n\n        this.element().setAttribute(\n          'aria-expanded',\n          this.expanded() ? 'false' : 'true'\n        );\n\n        getChildren(this.#node);\n      },\n      select = () => {\n        this.emit(\n          new CustomEvent<[Leaf]>(\n            this.selected() ? 'leaf-deselected' : 'leaf-selected',\n            {\n              bubbles: true,\n              detail: [this],\n            }\n          )\n        );\n\n        this.element().setAttribute(\n          'aria-selected',\n          this.selected() ? 'false' : 'true'\n        );\n\n        getChildren(this.#node);\n      };\n\n    on(this.toggle(), 'click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      expand();\n    });\n\n    this.on('click', (event) => {\n      if (event.button) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      select();\n\n      if (\n        this.#node.hasChildren() &&\n        this.element().matches('[aria-expanded=\"false\"]')\n      ) {\n        expand();\n      }\n    });\n\n    this.#node.on('updated', () => this.update());\n  }\n\n  private children(): HTMLDivElement {\n    return this.query<HTMLDivElement>('.children');\n  }\n\n  private expanded(): boolean {\n    return this.element().getAttribute('aria-expanded') === 'true';\n  }\n\n  node(): Node {\n    return this.#node;\n  }\n\n  private selected(): boolean {\n    return this.element().getAttribute('aria-selected') === 'true';\n  }\n\n  private toggle(): HTMLSpanElement {\n    return this.query<HTMLSpanElement>('.toggle');\n  }\n\n  private update(): void {\n    if (this.#node.hasChildren() === null) {\n      return;\n    }\n\n    if (this.#node.hasChildren()) {\n      this.addClass('hasChildren');\n\n      empty(this.children());\n\n      this.#node.children().forEach((child) => {\n        const leaf = new Leaf(child, this.#dataProvider);\n\n        this.children().append(leaf.element());\n      });\n\n      return;\n    }\n\n    this.addClass('hasNoChildren');\n  }\n}\n\nexport default Leaf;\n", "import EventEmitter from '@dom111/typed-event-emitter/EventEmitter';\n\ntype NodeEvents = {\n  updated: [];\n};\n\nexport class Node extends EventEmitter<NodeEvents> {\n  #fullPath: string[];\n  #children: Node[] | null;\n  #name: string;\n\n  constructor(\n    fullPath: string[],\n    name: string,\n    children: Node[] | null = null\n  ) {\n    super();\n\n    this.#fullPath = fullPath;\n    this.#name = name;\n    this.#children = children;\n  }\n\n  children(): Node[] | null {\n    return this.#children;\n  }\n\n  fullPath(): string[] {\n    return this.#fullPath;\n  }\n\n  hasChildren(): boolean | null {\n    if (this.#children === null) {\n      return null;\n    }\n\n    return this.#children.length > 0;\n  }\n\n  name(): string {\n    return this.#name;\n  }\n\n  setChildren(children: Node[]): void {\n    this.#children = children;\n\n    this.emit('updated');\n  }\n}\n\nexport default Node;\n", "import { leadingAndTrailingSlash, trimSlashes } from '../../lib/joinPath';\nimport DataProvider from './DataProvider';\nimport Node from './Node';\nimport Response from '../../lib/Response';\n\ninterface WebDAVOptions {\n  debug: boolean;\n  depth: number;\n}\n\nexport class WebDAV implements DataProvider {\n  #cache: Map<string, Promise<Node[]>> = new Map();\n  #options: WebDAVOptions = {\n    debug: true,\n    depth: 2,\n  };\n\n  constructor(options: Partial<WebDAVOptions> = {}) {\n    this.#options = {\n      ...this.#options,\n      ...options,\n    };\n  }\n\n  async getChildren(\n    node: Node,\n    bypassCache: boolean = false,\n    depth: number = this.#options.depth\n  ): Promise<Node[] | null> {\n    if (depth === 0) {\n      return null;\n    }\n\n    const path =\n      node.fullPath().length === 0\n        ? '/'\n        : leadingAndTrailingSlash(node.fullPath().join('/'));\n\n    if (!this.#cache.has(path) || bypassCache) {\n      this.#cache.set(\n        path,\n        fetch(path, {\n          method: 'PROPFIND',\n          headers: {\n            Depth: '1',\n          },\n        })\n          .then(async (response) => {\n            if (!response.ok) {\n              if (this.#options.debug) {\n                console.error(response);\n              }\n\n              return [];\n            }\n\n            const davResponse = new Response(\n                await response.text()\n              ).responseToPrimitives(),\n              directories = davResponse\n                .filter((entry) => entry.directory && entry.fullPath !== path)\n                .sort((a, b) => (a.fullPath < b.fullPath ? -1 : 1)),\n              children = directories.map((entry) => {\n                const fullPath = trimSlashes(entry.fullPath).split('/');\n\n                const name = decodeURIComponent(fullPath.slice(0).pop()),\n                  childNode = new Node(fullPath, name);\n\n                this.getChildren(childNode, bypassCache, depth - 1);\n\n                return childNode;\n              });\n\n            node.setChildren(children);\n\n            return children;\n          })\n          .catch((e) => {\n            if (this.#options.debug) {\n              console.error(e);\n            }\n\n            return [];\n          })\n      );\n    }\n\n    return this.#cache.get(path);\n  }\n}\n\nexport default WebDAV;\n", "export const previewItems = (\n  currentItem: HTMLElement,\n  selector: string = 'li'\n): [HTMLElement | null, HTMLElement | null] => {\n  if (!currentItem) {\n    return [null, null];\n  }\n\n  const list = currentItem.parentElement as HTMLElement;\n\n  if (!list) {\n    return [null, null];\n  }\n\n  const previewItems = Array.from(list.querySelectorAll(selector)),\n    currentIndex = previewItems.indexOf(currentItem);\n\n  if (currentIndex === -1) {\n    return [null, null];\n  }\n\n  const previous =\n      currentIndex > 0 ? (previewItems[currentIndex - 1] as HTMLElement) : null,\n    next =\n      currentIndex < previewItems.length - 1\n        ? (previewItems[currentIndex + 1] as HTMLElement)\n        : null;\n\n  return [previous, next];\n};\n\nexport default previewItems;\n", "export const supportsFocusWithin: boolean = (() => {\n  try {\n    document.querySelector(':focus-within');\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\nexport default supportsFocusWithin;\n", "import Collection from './Collection';\nimport EventEmitter from '@dom111/typed-event-emitter/EventEmitter';\nimport { t } from 'i18next';\nimport { on } from '@dom111/element';\n\nexport class State extends EventEmitter<{\n  'collection-updated': [];\n  updated: [boolean?];\n}> {\n  #collection: Collection;\n  #location: Location;\n  #history: History;\n  #document: Document;\n  #window: Window;\n\n  #collectionUpdatedListener = (): void => this.emit('collection-updated');\n\n  constructor(document: Document, window: Window) {\n    super();\n\n    this.#document = document;\n    this.#window = window;\n    this.#location = window.location;\n    this.#history = window.history;\n\n    this.bindEvents();\n    this.setTitle(this.getPath());\n  }\n\n  private bindEvents(): void {\n    on(this.#window, 'popstate', () => this.update());\n  }\n\n  getCollection(): Collection {\n    return this.#collection;\n  }\n\n  getPath(): string {\n    return this.#location.pathname;\n  }\n\n  getTitleForPath(path: string): string {\n    return t('title', {\n      interpolation: {\n        escapeValue: false,\n      },\n      path: decodeURIComponent(path),\n    });\n  }\n\n  isDirectory(): boolean {\n    return this.getPath().endsWith('/');\n  }\n\n  setCollection(collection: Collection): void {\n    if (this.#collection) {\n      this.#collection.off('updated', this.#collectionUpdatedListener);\n    }\n\n    this.#collection = collection;\n\n    collection.on('updated', this.#collectionUpdatedListener);\n  }\n\n  setPath(path: string): void {\n    if (this.#location.pathname !== path) {\n      this.showPath(path);\n\n      this.emit('updated');\n    }\n  }\n\n  private setTitle(path: string): void {\n    const title = this.getTitleForPath(path);\n\n    if (this.#document.title !== title) {\n      this.#document.title = title;\n    }\n  }\n\n  showPath(path: string): void {\n    if (this.#location.pathname !== path) {\n      this.#history.pushState({ path }, this.getTitleForPath(path), path);\n\n      this.setTitle(path);\n    }\n  }\n\n  update(bypassCache: boolean = false): void {\n    this.emit('updated', bypassCache);\n  }\n}\n\nexport default State;\n", "const testElement = document.createElement('span');\n\nexport const supportsEvents = (...eventNames: string[]): boolean =>\n  eventNames.every((eventName) => supportsEvent(eventName));\n\nexport const supportsEvent = (eventName: string): boolean => {\n  const attributeName = `on${eventName}`;\n\n  if (!testElement.hasAttribute(attributeName)) {\n    testElement.setAttribute(attributeName, '');\n  }\n\n  return typeof testElement[`on${eventName}`] === 'function';\n};\n\nexport default supportsEvent;\n", "import DAV from './DAV';\nimport Element from '@dom111/element';\nimport State from './State';\n\nexport abstract class AbstractUI extends Element {\n  #dav: DAV;\n  #state: State;\n\n  constructor(container: HTMLElement, dav: DAV, state: State) {\n    super(container);\n\n    this.#dav = dav;\n    this.#state = state;\n\n    this.bindEvents();\n  }\n\n  protected abstract bindEvents(): void;\n\n  dav(): DAV {\n    return this.#dav;\n  }\n\n  state(): State {\n    return this.#state;\n  }\n}\n\nexport default AbstractUI;\n", "import supportsEvent, { supportsEvents } from '../lib/supportsEvent';\nimport AbstractUI from '../lib/AbstractUI';\nimport handleFileUpload from '../lib/handleFileUpload';\n\nexport class UI extends AbstractUI {\n  protected bindEvents(): void {\n    const isTouch = supportsEvent('touchstart'),\n      supportsDragDrop = supportsEvents('dragstart', 'drop');\n\n    // DOM events\n    if (isTouch) {\n      this.addClass('is-touch');\n    }\n\n    if (!supportsDragDrop) {\n      this.addClass('no-drag-drop');\n    }\n\n    if (supportsDragDrop) {\n      this.onEach(['dragenter', 'dragover'], (event: DragEvent): void => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this.addClass('active');\n      });\n\n      this.onEach(['dragleave', 'drop'], (event: DragEvent): void => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this.removeClass('active');\n      });\n\n      this.on('drop', async (event: DragEvent): Promise<void> => {\n        const { files } = event.dataTransfer;\n\n        for (const file of files) {\n          await handleFileUpload(this.dav(), this.state(), file);\n        }\n      });\n    }\n  }\n}\n\nexport default UI;\n", "import './style.scss';\n\nimport Container from './components/Container';\nimport DAV from './lib/DAV';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport List from './components/List';\nimport State from './lib/State';\nimport UI from './components/UI';\nimport de from '../translations/de.json';\nimport en from '../translations/en.json';\nimport pt from '../translations/pt.json';\nimport { use } from 'i18next';\n\nuse(LanguageDetector)\n  .init({\n    detection: {\n      caches: [],\n    },\n    fallbackLng: 'en',\n    resources: {\n      de,\n      en,\n      pt,\n    },\n  })\n  .then((): void => {\n    const state = new State(document, window),\n      dav = new DAV({\n        bypassCheck: !!document.querySelector('[data-disable-check]'),\n        sortDirectoriesFirst: !!document.querySelector(\n          '[data-sort-directories-first]'\n        ),\n      }),\n      container = new Container(),\n      header = new Header(state),\n      list = new List(dav, state),\n      footer = new Footer(dav, state),\n      ui = new UI(document.body, dav, state);\n\n    container.append(header, list);\n    ui.append(container, footer);\n  });\n"],
  "mappings": "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",
  "names": ["require_types", "__commonJSMin", "exports", "SelectorType", "AttributeAction", "require_parse", "__commonJSMin", "exports", "types_1", "reName", "reEscape", "actionTypes", "unpackPseudos", "isTraversal", "selector", "stripQuotesFromPseudos", "funescape", "_", "escaped", "escapedWhitespace", "high", "unescapeCSS", "str", "isQuote", "c", "isWhitespace", "parse", "subselects", "endIndex", "parseSelector", "selectorIndex", "tokens", "getName", "offset", "match", "name", "stripWhitespace", "readValueWithParenthesis", "start", "counter", "isEscaped", "pos", "slashCount", "ensureNotTraversal", "addTraversal", "type", "addSpecialAttribute", "action", "finalizeSubselector", "loop", "firstChar", "name_1", "namespace", "possibleAction", "value", "ignoreCase", "quote", "sectionEnd", "valueStart", "forceIgnore", "attributeSelector", "name_2", "data", "quot", "name_3", "require_stringify", "__commonJSMin", "exports", "__spreadArray", "to", "from", "pack", "i", "l", "ar", "types_1", "attribValChars", "pseudoValChars", "charsToEscapeInAttributeValue", "c", "charsToEscapeInPseudoValue", "charsToEscapeInName", "stringify", "selector", "token", "stringifyToken", "index", "arr", "getNamespace", "getNamespacedName", "escapeName", "name_1", "getActionValue", "action", "namespace", "str", "charsToEscape", "lastIdx", "ret", "require_commonjs", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "parse_1", "stringify_1", "require_Element", "__commonJSMin", "exports", "e", "t", "s", "o", "r", "Melba_exports", "__export", "Melba", "Melba_default", "error", "info", "success", "toast", "warning", "module", "__toCommonJS", "EventEmitter", "#handlers", "event", "handler", "onceHandler", "args", "index", "EventEmitter_default", "supportsFocusWithin", "supportsFocusWithin_default", "_Melba", "content", "animation", "animationDuration", "closeLabel", "container", "containerClass", "containerElement", "events", "hide", "root", "toastClass", "toastElement", "toastHideClass", "toastShowClass", "type", "force", "focusSelector", "transitionEndHandler", "transitionStartHandler", "bound", "mouseOverHandler", "closeButton", "existingContainer", "settings", "__spreadValues", "options", "__spreadProps", "require_basicLightbox_min", "__commonJSMin", "exports", "module", "e", "n", "t", "o", "r", "c", "s", "__require", "i", "a", "l", "u", "require_prism", "__commonJSMin", "exports", "module", "_self", "Prism", "lang", "uniqueId", "plainTextGrammar", "_", "encode", "tokens", "Token", "o", "obj", "deepClone", "visited", "clone", "id", "key", "v", "i", "element", "m", "language", "err", "src", "scripts", "className", "defaultActivation", "no", "classList", "redef", "inside", "before", "insert", "root", "grammar", "ret", "token", "newToken", "old", "value", "DFS", "callback", "type", "objId", "property", "propertyType", "async", "container", "env", "parent", "code", "insertHighlightedCode", "highlightedCode", "worker", "evt", "text", "rest", "tokenList", "LinkedList", "addAfter", "matchGrammar", "toArray", "name", "hooks", "callbacks", "content", "alias", "matchedStr", "stringify", "s", "e", "aliases", "attributes", "matchPattern", "pattern", "pos", "lookbehind", "match", "lookbehindLength", "startNode", "startPos", "rematch", "patterns", "j", "patternObj", "greedy", "flags", "currentNode", "str", "removeCount", "from", "to", "p", "k", "matchStr", "after", "reach", "removeFrom", "removeRange", "wrapped", "nestedRematch", "head", "tail", "list", "node", "next", "newNode", "count", "array", "message", "immediateClose", "script", "highlightAutomaticallyCallback", "readyState", "tagName", "includedCdataInside", "def", "attrName", "string", "markup", "LOADING_MESSAGE", "FAILURE_MESSAGE", "status", "FAILURE_EMPTY_MESSAGE", "EXTENSIONS", "STATUS_ATTR", "STATUS_LOADING", "STATUS_LOADED", "STATUS_FAILED", "SELECTOR", "loadFile", "success", "error", "xhr", "parseRange", "range", "start", "comma", "end", "pre", "extension", "autoloader", "lines", "elements", "logged", "import_element", "Container", "Element", "template", "joinPath", "pieces", "leadingSlash", "trimSlashes", "piece", "leadingAndTrailingSlash", "text", "trailingSlash", "normalisePath", "path", "pathPart", "unescaped", "e", "pathAndName", "pathParts", "file", "joinPath_default", "EventEmitter", "#handlers", "event", "handler", "onceHandler", "args", "index", "EventEmitter_default", "_typeof", "obj", "_classCallCheck", "instance", "Constructor", "_defineProperties", "target", "props", "i", "descriptor", "_createClass", "Constructor", "protoProps", "staticProps", "_assertThisInitialized", "self", "_setPrototypeOf", "o", "p", "_inherits", "subClass", "superClass", "_setPrototypeOf", "_possibleConstructorReturn", "self", "call", "_typeof", "_assertThisInitialized", "_getPrototypeOf", "o", "_defineProperty", "obj", "key", "value", "_arrayWithHoles", "arr", "_iterableToArray", "iter", "_arrayLikeToArray", "arr", "len", "i", "arr2", "_unsupportedIterableToArray", "o", "minLen", "_arrayLikeToArray", "n", "_nonIterableRest", "_toArray", "arr", "_arrayWithHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableRest", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread", "target", "i", "source", "key", "_defineProperty", "consoleLogger", "args", "type", "Logger", "concreteLogger", "options", "_classCallCheck", "_createClass", "bool", "_len", "_key", "_len2", "_key2", "_len3", "_key3", "_len4", "_key4", "lvl", "prefix", "debugOnly", "moduleName", "baseLogger", "EventEmitter", "events", "listener", "_this", "event", "l", "cloned", "observer", "_cloned", "defer", "res", "rej", "promise", "resolve", "reject", "makeString", "copy", "a", "s", "t", "m", "getLastOfPath", "path", "Empty", "cleanKey", "canNotTraverseDeeper", "stack", "setPath", "newValue", "_getLastOfPath", "obj", "k", "pushPath", "concat", "_getLastOfPath2", "getPath", "_getLastOfPath3", "getPathWithDefaults", "data", "defaultData", "value", "deepExtend", "overwrite", "prop", "regexEscape", "str", "_entityMap", "escape", "isIE10", "chars", "looksLikeObjectPath", "nsSeparator", "keySeparator", "possibleChars", "c", "r", "matched", "ki", "ownKeys$1", "_objectSpread$1", "_createSuper", "Derived", "hasNativeReflectConstruct", "_isNativeReflectConstruct", "Super", "_getPrototypeOf", "result", "NewTarget", "_possibleConstructorReturn", "deepFind", "paths", "current", "j", "p", "mix", "joinedPath", "ResourceStore", "_EventEmitter", "_inherits", "_super", "_assertThisInitialized", "ns", "index", "lng", "ignoreJSONStructure", "resources", "deep", "pack", "n", "v", "postProcessor", "module", "processors", "translator", "processor", "ownKeys$2", "_objectSpread$2", "_createSuper$1", "_isNativeReflectConstruct$1", "checkedLoadedFor", "Translator", "services", "resolved", "namespaces", "wouldCheckForNsInKey", "seemsNaturalLanguage", "parts", "lastKey", "_this2", "_typeof", "returnDetails", "_this$extractFromKey", "namespace", "appendNamespaceToCIMode", "resUsedKey", "resExactUsedKey", "resType", "noObject", "joinArrays", "handleAsObjectInI18nFormat", "handleAsObject", "resTypeIsArray", "newKeyToUse", "deepKey", "usedDefault", "usedKey", "needsPluralHandling", "hasDefaultValue", "defaultValueSuffix", "defaultValue", "missingKeyNoValueFallbackToKey", "resForMissing", "updateMissing", "fk", "lngs", "fallbackLngs", "send", "specificDefaultValue", "defaultForMissing", "language", "suffix", "_this3", "skipOnVariables", "nestBef", "nb", "na", "nestAft", "postProcess", "postProcessorNames", "_this4", "found", "exactUsedKey", "usedLng", "usedNS", "extracted", "needsZeroSuffixLookup", "needsContextHandling", "codes", "code", "finalKeys", "pluralSuffix", "zeroSuffix", "contextKey", "possibleKey", "option", "capitalize", "string", "LanguageUtil", "specialCases", "part", "cleanedLng", "lngOnly", "supportedLng", "fallbacks", "fallbackCode", "fallbackCodes", "addCode", "fc", "sets", "_rulesPluralsTypes", "deprecatedJsonVersions", "suffixesOrder", "createRules", "rules", "set", "PluralResolver", "languageUtils", "rule", "pluralCategory1", "pluralCategory2", "pluralCategory", "number", "count", "idx", "returnSuffix", "ownKeys$3", "_objectSpread$3", "Interpolator", "iOpts", "regexpStr", "regexpUnescapeStr", "nestingRegexpStr", "match", "replaces", "regexSafe", "val", "handleFormat", "f", "missingInterpolationHandler", "todos", "todo", "matchedVar", "temp", "safeValue", "clonedOptions", "handleHasOptions", "inheritedOptions", "sep", "optionsString", "e", "formatters", "doReduce", "elem", "ownKeys$4", "_objectSpread$4", "parseFormatStr", "formatStr", "formatName", "formatOptions", "optStr", "opts", "opt", "_opt$split", "_opt$split2", "_toArray", "rest", "Formatter", "name", "_format", "formats", "mem", "_parseFormatStr", "formatted", "valOptions", "error", "ownKeys$5", "_objectSpread$5", "_createSuper$2", "_isNativeReflectConstruct$2", "removePending", "q", "Connector", "backend", "store", "languages", "callback", "toLoad", "pending", "toLoadLanguages", "toLoadNamespaces", "hasAllNamespaces", "err", "loaded", "loadedKeys", "fcName", "tried", "wait", "next", "_this5", "fallbackValue", "isUpdate", "get", "ret", "transformOptions", "ownKeys$6", "_objectSpread$6", "_createSuper$3", "_isNativeReflectConstruct$3", "noop", "bindMemberFunctions", "inst", "mems", "I18n", "defOpts", "createClassOnDemand", "ClassOrObject", "formatter", "lu", "storeApi", "_this2$store", "storeApiChained", "_this2$store2", "deferred", "load", "finish", "usedCallback", "append", "li", "lngInLngs", "setLngProps", "done", "setLng", "keyPrefix", "fixedT", "resultKey", "_this$translator", "_this$translator2", "_this6", "fallbackLng", "lastLng", "loadNotPending", "loadState", "preResult", "_this7", "preloaded", "newLngs", "rtlLngs", "_this8", "mergedOptions", "clone", "membersToCopy", "instance", "createInstance", "init", "loadResources", "reloadResources", "use", "changeLanguage", "getFixedT", "exists", "setDefaultNamespace", "hasLoadedNamespace", "loadNamespaces", "loadLanguages", "sizeToDisplaySize", "size", "label", "_copy", "_del", "_directory", "_displaySize", "_extension", "_fullPath", "_mimeType", "_modified", "_move", "_name", "_path", "_placeholder", "_uploadedSize", "_rename", "_size", "_title", "_type", "_Entry", "EventEmitter_default", "fullPath", "collection", "copy", "del", "directory", "mimeType", "modified", "move", "placeholder", "uploadedSize", "rename", "title", "__privateAdd", "path", "name", "modifiedDate", "__privateSet", "normalisePath", "trailingSlash", "pathAndName", "properties", "newEntry", "__spreadValues", "__privateGet", "t", "joinPath_default", "value", "types", "key", "Entry", "_path", "_entries", "_sortDirectoriesFirst", "_sort", "_sortAlphabetically", "_sortDirectories", "Collection", "EventEmitter_default", "items", "sortDirectoriesFirst", "__privateAdd", "__privateGet", "a", "b", "__privateSet", "item", "Entry", "__spreadProps", "__spreadValues", "parent", "joinPath_default", "entry", "iterator", "getTag", "doc", "tag", "getTagContent", "node", "_collection", "_document", "_parser", "Response", "rawDocument", "parser", "__privateAdd", "__privateSet", "sortDirectoriesFirst", "__privateGet", "Collection", "responses", "response", "normalisePath", "Response_default", "_request", "_response", "RequestFailure", "request", "response", "__privateAdd", "__privateSet", "__privateGet", "RequestFailure_default", "defaultParams", "method", "url", "parameters", "__async", "request", "__spreadProps", "__spreadValues", "response", "RequestFailure_default", "methodXHR", "_0", "_1", "_2", "body", "onProgress", "resolve", "reject", "xhr", "value", "key", "e", "line", "HTTP", "file", "HTTP_default", "import_melba_toast", "emptyCache", "cache", "_bypassCheck", "_cache", "_http", "_sortDirectoriesFirst", "_dropCache", "_getCache", "_hasCache", "_setCache", "_toastOnFailure", "_validDestination", "DAV", "bypassCheck", "sortDirectoriesFirst", "http", "HTTP_default", "__privateAdd", "type", "uri", "lookup", "__privateGet", "value", "func", "quiet", "__async", "e", "RequestFailure_default", "t", "destination", "hostname", "hostnameRegExp", "__privateSet", "from", "to", "entry", "overwrite", "headers", "fullPath", "response", "path", "bypassCache", "trailingSlash", "check", "data", "Response_default", "collection", "file", "onProgress", "joinPath_default", "DAV_default", "import_element", "import_melba_toast", "handleFileUpload", "dav", "state", "file", "__async", "collection", "normalisedFileName", "normalisePath", "existingFile", "entry", "t", "placeholder", "Entry", "joinPath_default", "uploadedBytes", "handleFileUpload_default", "import_melba_toast", "_dav", "_state", "Footer", "Element", "dav", "state", "t", "__privateAdd", "__privateSet", "input", "createDirectoryLink", "__async", "file", "handleFileUpload_default", "__privateGet", "event", "directoryName", "trailingSlash", "joinPath_default", "fullPath", "collection", "Entry", "import_element", "getPath", "state", "_state", "Header", "Element", "__privateAdd", "__privateSet", "__privateGet", "Header_default", "arr", "each", "slice", "defaults", "obj", "source", "prop", "fieldContentRegExp", "serializeCookie", "name", "val", "options", "opt", "value", "str", "maxAge", "sameSite", "cookie", "minutes", "domain", "cookieOptions", "nameEQ", "ca", "i", "c", "cookie$1", "found", "lng", "querystring", "search", "query", "params", "pos", "key", "hasLocalStorageSupport", "localStorageAvailable", "testKey", "localStorage", "hasSessionStorageSupport", "sessionStorageAvailable", "sessionStorage", "navigator$1", "htmlTag", "path", "language", "subdomain", "lookupFromSubdomainIndex", "getDefaults", "Browser", "services", "_classCallCheck", "_createClass", "i18nOptions", "detector", "detectionOrder", "_this", "detected", "detectorName", "lookup", "caches", "_this2", "cacheName", "import_element", "import_basiclightbox", "import_element", "import_prismjs", "import_element", "import_element", "_contentArea", "Modal", "Element", "childNodes", "__privateAdd", "__privateSet", "__privateGet", "node", "event", "label", "Modal_default", "import_element", "import_element", "template", "node", "_dataProvider", "_node", "_Leaf", "Element", "dataProvider", "__privateAdd", "__privateSet", "getChildren", "__async", "__privateGet", "childNode", "expand", "select", "event", "child", "leaf", "Leaf", "Leaf_default", "_fullPath", "_children", "_name", "Node", "EventEmitter_default", "fullPath", "name", "children", "__privateAdd", "__privateSet", "__privateGet", "Node_default", "_dataProvider", "_options", "_rootNode", "_selected", "Tree", "Element", "dataProvider", "options", "__privateAdd", "__privateSet", "__spreadValues", "__privateGet", "Node_default", "leaf", "node", "__async", "Leaf_default", "leafNode", "selected", "Tree_default", "_cache", "_options", "WebDAV", "options", "__privateAdd", "__privateSet", "__spreadValues", "__privateGet", "_0", "__async", "node", "bypassCache", "depth", "path", "leadingAndTrailingSlash", "response", "davResponse", "Response_default", "directories", "entry", "a", "b", "children", "fullPath", "trimSlashes", "name", "childNode", "Node_default", "e", "WebDAV_default", "_tree", "TreeViewModal", "Modal_default", "title", "__privateAdd", "__privateSet", "Tree_default", "WebDAV_default", "__privateGet", "value", "leadingAndTrailingSlash", "joinPath_default", "__async", "resolve", "path", "TreeViewModal_default", "previewItems", "currentItem", "selector", "list", "currentIndex", "previous", "next", "previewItems_default", "import_melba_toast", "template", "entry", "t", "_dav", "_entry", "_state", "_templates", "_Item", "Element", "dav", "state", "__privateAdd", "formats", "extension", "fontName", "demoText", "content", "c", "__privateSet", "event", "__privateGet", "entryUpdatedHandler", "__async", "modal", "TreeViewModal_default", "target", "destination", "joinPath_default", "trailingSlash", "launchLightbox", "lightboxContent", "onShow", "close", "lightbox", "keyListener", "previous", "next", "previewItems_default", "Prism", "node", "title", "input", "setInputSize", "save", "unbindListeners", "destinationPath", "revert", "blurListener", "keyDownListener", "inputListener", "newItem", "Item", "supportsFocusWithin", "e", "supportsFocusWithin_default", "_dav", "_state", "List", "Element", "dav", "state", "__privateAdd", "__privateSet", "__privateGet", "bypassCache", "item", "event", "current", "supportsFocusWithin_default", "previous", "next", "previewItems_default", "__async", "collection", "entry", "Item", "List_default", "import_element", "_collection", "_location", "_history", "_document", "_window", "_collectionUpdatedListener", "State", "EventEmitter_default", "document", "window", "__privateAdd", "__privateSet", "__privateGet", "path", "t", "collection", "title", "bypassCache", "State_default", "testElement", "supportsEvents", "eventNames", "eventName", "supportsEvent", "attributeName", "supportsEvent_default", "import_element", "_dav", "_state", "AbstractUI", "Element", "container", "dav", "state", "__privateAdd", "__privateSet", "__privateGet", "AbstractUI_default", "UI", "AbstractUI_default", "isTouch", "supportsEvent_default", "supportsDragDrop", "supportsEvents", "event", "__async", "files", "file", "handleFileUpload_default", "UI_default", "use", "Browser", "de_default", "en_default", "pt_default", "state", "State_default", "dav", "DAV_default", "container", "Container", "header", "Header_default", "list", "List_default", "footer", "Footer", "ui", "UI_default"]
}
